From 03ac9847a9ec71ec48e5ceec2b4faa8c1d3574ea Mon Sep 17 00:00:00 2001
From: Raimondas Rimkus <narimantukas@gmail.com>
Date: Sat, 19 Sep 2020 21:53:52 +0530
Subject: [PATCH] [SQUASH] Extend seperate number row for more layouts

This change is adapted from https://github.com/rkkr/simple-keyboard, is a squash of several commits,
1. https://github.com/rkkr/simple-keyboard/commit/013840269892d98ffe49b0d1f29b09003e2ed7d5 ,
2. https://github.com/rkkr/simple-keyboard/commit/c0c63253775a59331d709287da49332bf867cf1a ,
3. https://github.com/rkkr/simple-keyboard/commit/b2ab7b0619c7743dd63408d49eb22e8ba8ae312c ,
4. https://github.com/rkkr/simple-keyboard/commit/7970c690c5627bffa28b362cb8094ebdb19b7c39 ,
5. https://github.com/rkkr/simple-keyboard/commit/de6a289d97a54e572b3dc1dc2640098fac63dcd7 and
6. https://github.com/rkkr/simple-keyboard/commit/e0422ecd0eac509b13f9fc770c12945510475749

Change-Id: I558e88b9af34eabcde49cf260de994d7d12ef88c
Signed-off-by: George Zacharia <george.zcharia@gmail.com>
---
 java/res/xml-sw600dp/rows_arabic.xml          |   1 -
 java/res/xml-sw600dp/rows_azerty.xml          |   2 -
 java/res/xml-sw600dp/rows_bulgarian.xml       |   2 -
 java/res/xml-sw600dp/rows_bulgarian_bds.xml   |   2 -
 java/res/xml-sw600dp/rows_colemak.xml         |   2 -
 java/res/xml-sw600dp/rows_east_slavic.xml     |   2 -
 java/res/xml-sw600dp/rows_georgian.xml        |   2 -
 java/res/xml-sw600dp/rows_greek.xml           |   2 -
 java/res/xml-sw600dp/rows_hebrew.xml          |   2 -
 java/res/xml-sw600dp/rows_hindi.xml           |   1 -
 java/res/xml-sw600dp/rows_hindi_compact.xml   |   1 -
 java/res/xml-sw600dp/rows_kannada.xml         |   1 -
 java/res/xml-sw600dp/rows_malayalam.xml       |   1 -
 java/res/xml-sw600dp/rows_marathi.xml         |   1 -
 java/res/xml-sw600dp/rows_mongolian.xml       |   2 -
 .../res/xml-sw600dp/rows_nepali_romanized.xml |   1 -
 .../xml-sw600dp/rows_nepali_traditional.xml   |   1 -
 java/res/xml-sw600dp/rows_nordic.xml          |   2 -
 java/res/xml-sw600dp/rows_qwerty.xml          |   2 -
 java/res/xml-sw600dp/rows_qwertz.xml          |   2 -
 java/res/xml-sw600dp/rows_serbian_qwertz.xml  |   1 -
 java/res/xml-sw600dp/rows_south_slavic.xml    |   2 -
 java/res/xml-sw600dp/rows_spanish.xml         |   2 -
 java/res/xml-sw600dp/rows_telugu.xml          |   1 -
 java/res/xml-sw600dp/rows_uzbek.xml           |   3 +-
 java/res/xml/kbd_arabic.xml                   |  15 +-
 java/res/xml/kbd_azerty.xml                   |  15 +-
 java/res/xml/kbd_bulgarian.xml                |  15 +-
 java/res/xml/kbd_bulgarian_bds.xml            |  15 +-
 java/res/xml/kbd_colemak.xml                  |  15 +-
 java/res/xml/kbd_east_slavic.xml              |  15 +-
 java/res/xml/kbd_georgian.xml                 |  15 +-
 java/res/xml/kbd_greek.xml                    |  15 +-
 java/res/xml/kbd_hebrew.xml                   |  15 +-
 java/res/xml/kbd_hindi.xml                    |  15 +-
 java/res/xml/kbd_hindi_compact.xml            |  15 +-
 java/res/xml/kbd_kannada.xml                  |  15 +-
 java/res/xml/kbd_malayalam.xml                |  15 +-
 java/res/xml/kbd_marathi.xml                  |  15 +-
 java/res/xml/kbd_mongolian.xml                |  15 +-
 java/res/xml/kbd_nepali_romanized.xml         |  15 +-
 java/res/xml/kbd_nepali_traditional.xml       |  15 +-
 java/res/xml/kbd_nordic.xml                   |  15 +-
 java/res/xml/kbd_qwertz.xml                   |  15 +-
 java/res/xml/kbd_serbian_qwertz.xml           |  15 +-
 java/res/xml/kbd_south_slavic.xml             |  15 +-
 java/res/xml/kbd_spanish.xml                  |  15 +-
 java/res/xml/kbd_swiss.xml                    |  15 +-
 java/res/xml/kbd_tamil.xml                    |  15 +-
 java/res/xml/kbd_telugu.xml                   |  15 +-
 java/res/xml/kbd_uzbek.xml                    |  15 +-
 java/res/xml/rowkeys_arabic1.xml              | 212 ++++++++----
 java/res/xml/rowkeys_azerty1.xml              | 133 +++++---
 java/res/xml/rowkeys_bulgarian1.xml           | 142 +++++---
 java/res/xml/rowkeys_bulgarian_bds1.xml       | 142 +++++---
 java/res/xml/rowkeys_colemak1.xml             | 147 +++++---
 java/res/xml/rowkeys_east_slavic1.xml         | 148 +++++---
 java/res/xml/rowkeys_georgian1.xml            | 277 +++++++++------
 java/res/xml/rowkeys_greek1.xml               | 320 +++++++++++-------
 java/res/xml/rowkeys_hebrew1.xml              | 162 +++++----
 java/res/xml/rowkeys_hindi1.xml               | 251 +++++++++-----
 java/res/xml/rowkeys_hindi_compact1.xml       | 278 ++++++++++-----
 java/res/xml/rowkeys_kannada1.xml             | 228 ++++++++-----
 java/res/xml/rowkeys_malayalam1.xml           | 202 +++++++----
 java/res/xml/rowkeys_marathi1.xml             | 245 +++++++++-----
 java/res/xml/rowkeys_mongolian1.xml           | 154 ++++++---
 java/res/xml/rowkeys_nepali_romanized1.xml    | 236 ++++++++-----
 java/res/xml/rowkeys_nepali_traditional1.xml  | 176 ++++++----
 java/res/xml/rowkeys_qwertz1.xml              | 130 ++++---
 java/res/xml/rowkeys_south_slavic1.xml        | 139 +++++---
 java/res/xml/rowkeys_tamil1.xml               | 166 +++++----
 java/res/xml/rowkeys_telugu1.xml              | 196 +++++++----
 java/res/xml/rows_arabic.xml                  |   1 -
 java/res/xml/rows_azerty.xml                  |   2 -
 java/res/xml/rows_bulgarian.xml               |   2 -
 java/res/xml/rows_bulgarian_bds.xml           |   2 -
 java/res/xml/rows_colemak.xml                 |   2 -
 java/res/xml/rows_east_slavic.xml             |   2 -
 java/res/xml/rows_georgian.xml                |   2 -
 java/res/xml/rows_greek.xml                   |   2 -
 java/res/xml/rows_hebrew.xml                  |   2 -
 java/res/xml/rows_hindi.xml                   |   1 -
 java/res/xml/rows_hindi_compact.xml           |   1 -
 java/res/xml/rows_kannada.xml                 |   3 +-
 java/res/xml/rows_malayalam.xml               |   3 +-
 java/res/xml/rows_marathi.xml                 |   3 +-
 java/res/xml/rows_mongolian.xml               |   2 -
 java/res/xml/rows_nepali_romanized.xml        |   1 -
 java/res/xml/rows_nepali_traditional.xml      |   1 -
 java/res/xml/rows_nordic.xml                  |   2 -
 java/res/xml/rows_qwertz.xml                  |   2 -
 java/res/xml/rows_serbian_qwertz.xml          |   3 +-
 java/res/xml/rows_south_slavic.xml            |   2 -
 java/res/xml/rows_spanish.xml                 |   2 -
 java/res/xml/rows_swiss.xml                   |   2 -
 java/res/xml/rows_tamil.xml                   |   3 +-
 java/res/xml/rows_telugu.xml                  |   3 +-
 java/res/xml/rows_uzbek.xml                   |   3 +-
 98 files changed, 2998 insertions(+), 1571 deletions(-)

diff --git a/java/res/xml-sw600dp/rows_arabic.xml b/java/res/xml-sw600dp/rows_arabic.xml
index 1b7b4161e..d3ade583c 100644
--- a/java/res/xml-sw600dp/rows_arabic.xml
+++ b/java/res/xml-sw600dp/rows_arabic.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml-sw600dp/rows_azerty.xml b/java/res/xml-sw600dp/rows_azerty.xml
index cdc91857f..d13c5164c 100644
--- a/java/res/xml-sw600dp/rows_azerty.xml
+++ b/java/res/xml-sw600dp/rows_azerty.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.0%p"
     >
diff --git a/java/res/xml-sw600dp/rows_bulgarian.xml b/java/res/xml-sw600dp/rows_bulgarian.xml
index c73aa1c1a..d440efa61 100644
--- a/java/res/xml-sw600dp/rows_bulgarian.xml
+++ b/java/res/xml-sw600dp/rows_bulgarian.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
     >
diff --git a/java/res/xml-sw600dp/rows_bulgarian_bds.xml b/java/res/xml-sw600dp/rows_bulgarian_bds.xml
index bc773ee58..95ca5ddad 100644
--- a/java/res/xml-sw600dp/rows_bulgarian_bds.xml
+++ b/java/res/xml-sw600dp/rows_bulgarian_bds.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
     >
diff --git a/java/res/xml-sw600dp/rows_colemak.xml b/java/res/xml-sw600dp/rows_colemak.xml
index 7559bfb96..dfaca5fbe 100644
--- a/java/res/xml-sw600dp/rows_colemak.xml
+++ b/java/res/xml-sw600dp/rows_colemak.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.0%p"
     >
diff --git a/java/res/xml-sw600dp/rows_east_slavic.xml b/java/res/xml-sw600dp/rows_east_slavic.xml
index c5045fffc..77cf42607 100644
--- a/java/res/xml-sw600dp/rows_east_slavic.xml
+++ b/java/res/xml-sw600dp/rows_east_slavic.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
     >
diff --git a/java/res/xml-sw600dp/rows_georgian.xml b/java/res/xml-sw600dp/rows_georgian.xml
index 891cbc109..6daa656d8 100644
--- a/java/res/xml-sw600dp/rows_georgian.xml
+++ b/java/res/xml-sw600dp/rows_georgian.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.0%p"
     >
diff --git a/java/res/xml-sw600dp/rows_greek.xml b/java/res/xml-sw600dp/rows_greek.xml
index 60ee478d8..356f8eac1 100644
--- a/java/res/xml-sw600dp/rows_greek.xml
+++ b/java/res/xml-sw600dp/rows_greek.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.0%p"
     >
diff --git a/java/res/xml-sw600dp/rows_hebrew.xml b/java/res/xml-sw600dp/rows_hebrew.xml
index 86b34202f..0d142c1fc 100644
--- a/java/res/xml-sw600dp/rows_hebrew.xml
+++ b/java/res/xml-sw600dp/rows_hebrew.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.0%p"
     >
diff --git a/java/res/xml-sw600dp/rows_hindi.xml b/java/res/xml-sw600dp/rows_hindi.xml
index 42b92a72a..de7da2919 100644
--- a/java/res/xml-sw600dp/rows_hindi.xml
+++ b/java/res/xml-sw600dp/rows_hindi.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml-sw600dp/rows_hindi_compact.xml b/java/res/xml-sw600dp/rows_hindi_compact.xml
index 649345169..a39f2d3a7 100644
--- a/java/res/xml-sw600dp/rows_hindi_compact.xml
+++ b/java/res/xml-sw600dp/rows_hindi_compact.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml-sw600dp/rows_kannada.xml b/java/res/xml-sw600dp/rows_kannada.xml
index 55eedc559..91e2c14c7 100644
--- a/java/res/xml-sw600dp/rows_kannada.xml
+++ b/java/res/xml-sw600dp/rows_kannada.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal|autoXScale"
diff --git a/java/res/xml-sw600dp/rows_malayalam.xml b/java/res/xml-sw600dp/rows_malayalam.xml
index 1df7e6ea6..c97400dbc 100644
--- a/java/res/xml-sw600dp/rows_malayalam.xml
+++ b/java/res/xml-sw600dp/rows_malayalam.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal|autoXScale"
diff --git a/java/res/xml-sw600dp/rows_marathi.xml b/java/res/xml-sw600dp/rows_marathi.xml
index c77bea567..576ec5376 100644
--- a/java/res/xml-sw600dp/rows_marathi.xml
+++ b/java/res/xml-sw600dp/rows_marathi.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml-sw600dp/rows_mongolian.xml b/java/res/xml-sw600dp/rows_mongolian.xml
index 8e39e625a..0569e7114 100644
--- a/java/res/xml-sw600dp/rows_mongolian.xml
+++ b/java/res/xml-sw600dp/rows_mongolian.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
     >
diff --git a/java/res/xml-sw600dp/rows_nepali_romanized.xml b/java/res/xml-sw600dp/rows_nepali_romanized.xml
index 41cd2f9b4..772820f3e 100644
--- a/java/res/xml-sw600dp/rows_nepali_romanized.xml
+++ b/java/res/xml-sw600dp/rows_nepali_romanized.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml-sw600dp/rows_nepali_traditional.xml b/java/res/xml-sw600dp/rows_nepali_traditional.xml
index d23ca24e4..91613ce57 100644
--- a/java/res/xml-sw600dp/rows_nepali_traditional.xml
+++ b/java/res/xml-sw600dp/rows_nepali_traditional.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml-sw600dp/rows_nordic.xml b/java/res/xml-sw600dp/rows_nordic.xml
index 56fa4066f..cdb8cfae0 100644
--- a/java/res/xml-sw600dp/rows_nordic.xml
+++ b/java/res/xml-sw600dp/rows_nordic.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
     >
diff --git a/java/res/xml-sw600dp/rows_qwerty.xml b/java/res/xml-sw600dp/rows_qwerty.xml
index 51df4b0cc..20551babb 100644
--- a/java/res/xml-sw600dp/rows_qwerty.xml
+++ b/java/res/xml-sw600dp/rows_qwerty.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <!-- TODO: Consolidate the layout specification between protrait and landscape.
          Ideally just the keyWidth should be different and the spacer should adjust to fill
          the available space. -->
diff --git a/java/res/xml-sw600dp/rows_qwertz.xml b/java/res/xml-sw600dp/rows_qwertz.xml
index 747dafdce..a581659fc 100644
--- a/java/res/xml-sw600dp/rows_qwertz.xml
+++ b/java/res/xml-sw600dp/rows_qwertz.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.0%p"
     >
diff --git a/java/res/xml-sw600dp/rows_serbian_qwertz.xml b/java/res/xml-sw600dp/rows_serbian_qwertz.xml
index a3fb62523..b8c02b2fc 100644
--- a/java/res/xml-sw600dp/rows_serbian_qwertz.xml
+++ b/java/res/xml-sw600dp/rows_serbian_qwertz.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin" >
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row latin:keyWidth="8.182%p" >
         <include latin:keyboardLayout="@xml/rowkeys_serbian_qwertz1" />
         <Key
diff --git a/java/res/xml-sw600dp/rows_south_slavic.xml b/java/res/xml-sw600dp/rows_south_slavic.xml
index 5053988cc..4f34b0574 100644
--- a/java/res/xml-sw600dp/rows_south_slavic.xml
+++ b/java/res/xml-sw600dp/rows_south_slavic.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
     >
diff --git a/java/res/xml-sw600dp/rows_spanish.xml b/java/res/xml-sw600dp/rows_spanish.xml
index 1092c268e..85d57a8d9 100644
--- a/java/res/xml-sw600dp/rows_spanish.xml
+++ b/java/res/xml-sw600dp/rows_spanish.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.0%p"
     >
diff --git a/java/res/xml-sw600dp/rows_telugu.xml b/java/res/xml-sw600dp/rows_telugu.xml
index c9aeb7ef2..de2a0b265 100644
--- a/java/res/xml-sw600dp/rows_telugu.xml
+++ b/java/res/xml-sw600dp/rows_telugu.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="8.182%p"
         latin:keyLabelFlags="fontNormal|autoXScale"
diff --git a/java/res/xml-sw600dp/rows_uzbek.xml b/java/res/xml-sw600dp/rows_uzbek.xml
index 3cd9940f6..f9fa609e4 100644
--- a/java/res/xml-sw600dp/rows_uzbek.xml
+++ b/java/res/xml-sw600dp/rows_uzbek.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin" >
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row latin:keyWidth="8.182%p" >
         <include latin:keyboardLayout="@xml/rowkeys_uzbek1" />
         <Key
@@ -45,4 +44,4 @@
             latin:keyXPos="-10.0%p" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
diff --git a/java/res/xml/kbd_arabic.xml b/java/res/xml/kbd_arabic.xml
index ce5f30b2f..ecd9428ab 100644
--- a/java/res/xml/kbd_arabic.xml
+++ b/java/res/xml/kbd_arabic.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_arabic" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_arabic"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_arabic" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_azerty.xml b/java/res/xml/kbd_azerty.xml
index 7bafe5bca..10361ef22 100644
--- a/java/res/xml/kbd_azerty.xml
+++ b/java/res/xml/kbd_azerty.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_azerty" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_azerty"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_azerty" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_bulgarian.xml b/java/res/xml/kbd_bulgarian.xml
index a651991c0..19b60a181 100644
--- a/java/res/xml/kbd_bulgarian.xml
+++ b/java/res/xml/kbd_bulgarian.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_bulgarian" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_bulgarian"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_bulgarian" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_bulgarian_bds.xml b/java/res/xml/kbd_bulgarian_bds.xml
index a8d770c04..572ab18de 100644
--- a/java/res/xml/kbd_bulgarian_bds.xml
+++ b/java/res/xml/kbd_bulgarian_bds.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_bulgarian_bds" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_bulgarian_bds"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_bulgarian_bds" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_colemak.xml b/java/res/xml/kbd_colemak.xml
index ee1d5e86e..2fead95eb 100644
--- a/java/res/xml/kbd_colemak.xml
+++ b/java/res/xml/kbd_colemak.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_colemak" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_colemak"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_colemak" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_east_slavic.xml b/java/res/xml/kbd_east_slavic.xml
index 3bc233953..d178ab37b 100644
--- a/java/res/xml/kbd_east_slavic.xml
+++ b/java/res/xml/kbd_east_slavic.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_east_slavic" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_east_slavic"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_east_slavic" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_georgian.xml b/java/res/xml/kbd_georgian.xml
index 2dc6bf0ee..8bccda00a 100644
--- a/java/res/xml/kbd_georgian.xml
+++ b/java/res/xml/kbd_georgian.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_georgian" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_georgian"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_georgian" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_greek.xml b/java/res/xml/kbd_greek.xml
index 7056efb00..8aff1a627 100644
--- a/java/res/xml/kbd_greek.xml
+++ b/java/res/xml/kbd_greek.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_greek" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_greek"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_greek" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_hebrew.xml b/java/res/xml/kbd_hebrew.xml
index 74836f342..93d12e0bf 100644
--- a/java/res/xml/kbd_hebrew.xml
+++ b/java/res/xml/kbd_hebrew.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_hebrew" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_hebrew"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_hebrew" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_hindi.xml b/java/res/xml/kbd_hindi.xml
index 0e69e3ae2..fea224dfd 100644
--- a/java/res/xml/kbd_hindi.xml
+++ b/java/res/xml/kbd_hindi.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_hindi" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_hindi"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_hindi" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_hindi_compact.xml b/java/res/xml/kbd_hindi_compact.xml
index 7502bba9e..7ef79ba43 100644
--- a/java/res/xml/kbd_hindi_compact.xml
+++ b/java/res/xml/kbd_hindi_compact.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_hindi_compact" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_hindi_compact"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_hindi_compact" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_kannada.xml b/java/res/xml/kbd_kannada.xml
index 0c5922899..be0588181 100644
--- a/java/res/xml/kbd_kannada.xml
+++ b/java/res/xml/kbd_kannada.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_kannada" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_kannada"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_kannada" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_malayalam.xml b/java/res/xml/kbd_malayalam.xml
index 000b23f82..912adceba 100644
--- a/java/res/xml/kbd_malayalam.xml
+++ b/java/res/xml/kbd_malayalam.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_malayalam" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_malayalam"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_malayalam" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_marathi.xml b/java/res/xml/kbd_marathi.xml
index 4328cd6d3..ad07dc166 100644
--- a/java/res/xml/kbd_marathi.xml
+++ b/java/res/xml/kbd_marathi.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_marathi" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_marathi"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_marathi" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_mongolian.xml b/java/res/xml/kbd_mongolian.xml
index 1d0352175..92a8c5314 100644
--- a/java/res/xml/kbd_mongolian.xml
+++ b/java/res/xml/kbd_mongolian.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_mongolian" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_mongolian"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_mongolian" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_nepali_romanized.xml b/java/res/xml/kbd_nepali_romanized.xml
index 9e4381364..b48dbb935 100644
--- a/java/res/xml/kbd_nepali_romanized.xml
+++ b/java/res/xml/kbd_nepali_romanized.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_nepali_romanized" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_nepali_romanized"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_nepali_romanized" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_nepali_traditional.xml b/java/res/xml/kbd_nepali_traditional.xml
index 6854e32bd..3d913fcb7 100644
--- a/java/res/xml/kbd_nepali_traditional.xml
+++ b/java/res/xml/kbd_nepali_traditional.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_nepali_traditional" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_nepali_traditional"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_nepali_traditional" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_nordic.xml b/java/res/xml/kbd_nordic.xml
index a2196c926..530dbe1c8 100644
--- a/java/res/xml/kbd_nordic.xml
+++ b/java/res/xml/kbd_nordic.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_nordic" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_nordic"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_nordic" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_qwertz.xml b/java/res/xml/kbd_qwertz.xml
index 9f7e9019c..1413283f9 100644
--- a/java/res/xml/kbd_qwertz.xml
+++ b/java/res/xml/kbd_qwertz.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_qwertz" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_qwertz"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_qwertz" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_serbian_qwertz.xml b/java/res/xml/kbd_serbian_qwertz.xml
index 4f763b861..db281c3e8 100644
--- a/java/res/xml/kbd_serbian_qwertz.xml
+++ b/java/res/xml/kbd_serbian_qwertz.xml
@@ -19,5 +19,18 @@
 -->
 
 <Keyboard xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin" >
-    <include latin:keyboardLayout="@xml/rows_serbian_qwertz" />
+    <include latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_serbian_qwertz"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_serbian_qwertz" />
+        </default>
+    </switch>
 </Keyboard>
\ No newline at end of file
diff --git a/java/res/xml/kbd_south_slavic.xml b/java/res/xml/kbd_south_slavic.xml
index f3ad02c7b..33491da04 100644
--- a/java/res/xml/kbd_south_slavic.xml
+++ b/java/res/xml/kbd_south_slavic.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_south_slavic" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_south_slavic"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_south_slavic" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_spanish.xml b/java/res/xml/kbd_spanish.xml
index 6ce2b5d24..951a25174 100644
--- a/java/res/xml/kbd_spanish.xml
+++ b/java/res/xml/kbd_spanish.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_spanish" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_spanish"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_spanish" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_swiss.xml b/java/res/xml/kbd_swiss.xml
index c64ad1103..447360bbe 100644
--- a/java/res/xml/kbd_swiss.xml
+++ b/java/res/xml/kbd_swiss.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_swiss" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_swiss"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_swiss" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_tamil.xml b/java/res/xml/kbd_tamil.xml
index 617e4de47..188556c64 100644
--- a/java/res/xml/kbd_tamil.xml
+++ b/java/res/xml/kbd_tamil.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_tamil" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_tamil"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_tamil" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_telugu.xml b/java/res/xml/kbd_telugu.xml
index b4fc337d1..c8bc39293 100644
--- a/java/res/xml/kbd_telugu.xml
+++ b/java/res/xml/kbd_telugu.xml
@@ -22,5 +22,18 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <include
-        latin:keyboardLayout="@xml/rows_telugu" />
+        latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_telugu"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_telugu" />
+        </default>
+    </switch>
 </Keyboard>
diff --git a/java/res/xml/kbd_uzbek.xml b/java/res/xml/kbd_uzbek.xml
index 84486a70e..778f5cfe6 100644
--- a/java/res/xml/kbd_uzbek.xml
+++ b/java/res/xml/kbd_uzbek.xml
@@ -19,5 +19,18 @@
 -->
 
 <Keyboard xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin" >
-    <include latin:keyboardLayout="@xml/rows_uzbek" />
+    <include latin:keyboardLayout="@xml/key_styles_common" />
+
+    <switch>
+        <case latin:showNumberRow="true">
+            <include latin:keyboardLayout="@xml/rowkeys_qwerty0" />
+
+            <include
+                latin:keyboardLayout="@xml/rows_uzbek"
+                latin:rowHeight="21.25%p" />
+        </case>
+        <default>
+            <include latin:keyboardLayout="@xml/rows_uzbek" />
+        </default>
+    </switch>
 </Keyboard>
\ No newline at end of file
diff --git a/java/res/xml/rowkeys_arabic1.xml b/java/res/xml/rowkeys_arabic1.xml
index 9f83fef50..5c397e158 100644
--- a/java/res/xml/rowkeys_arabic1.xml
+++ b/java/res/xml/rowkeys_arabic1.xml
@@ -19,78 +19,146 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <!-- U+0636: "ض" ARABIC LETTER DAD
-         U+0661: "١" ARABIC-INDIC DIGIT ONE -->
-    <Key
-        latin:keySpec="&#x0636;"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1,&#x0661;" />
-    <!-- U+0635: "ص" ARABIC LETTER SAD
-         U+0662: "٢" ARABIC-INDIC DIGIT TWO -->
-    <Key
-        latin:keySpec="&#x0635;"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2,&#x0662;" />
-    <!-- U+062B: "ث" ARABIC LETTER THEH
-         U+0663: "٣" ARABIC-INDIC DIGIT THREE -->
-    <Key
-        latin:keySpec="&#x062B;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3,&#x0663;" />
-    <!-- U+0642: "ق" ARABIC LETTER QAF
-         U+0664: "٤" ARABIC-INDIC DIGIT FOUR
-         U+06A8: "ڨ" ARABIC LETTER QAF WITH THREE DOTS ABOVE -->
-    <!-- TODO: DroidSansArabic lacks the glyph of U+06A8 ARABIC LETTER QAF WITH THREE DOTS ABOVE -->
-    <Key
-        latin:keySpec="&#x0642;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4,&#x0664;"
-        latin:moreKeys="&#x06A8;" />
-    <!-- U+0641: "ف" ARABIC LETTER FEH
-         U+0665: "٥" ARABIC-INDIC DIGIT FIVE
-         U+06A4: "ڤ" ARABIC LETTER VEH
-         U+06A2: "ڢ" ARABIC LETTER FEH WITH DOT MOVED BELOW
-         U+06A5: "ڥ" ARABIC LETTER FEH WITH THREE DOTS BELOW -->
-    <!-- TODO: DroidSansArabic lacks the glyph of U+06A2 ARABIC LETTER FEH WITH DOT MOVED BELOW -->
-    <!-- TODO: DroidSansArabic lacks the glyph of U+06A5 ARABIC LETTER FEH WITH THREE DOTS BELOW -->
-    <Key
-        latin:keySpec="&#x0641;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5,&#x0665;"
-        latin:moreKeys="&#x06A4;,&#x06A2;,&#x06A5;" />
-    <!-- U+063A: "غ" ARABIC LETTER GHAIN
-         U+0666: "٦" ARABIC-INDIC DIGIT SIX -->
-    <Key
-        latin:keySpec="&#x063A;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6,&#x0666;" />
-    <!-- U+0639: "ع" ARABIC LETTER AIN
-         U+0667: "٧" ARABIC-INDIC DIGIT SEVEN -->
-    <Key
-        latin:keySpec="&#x0639;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7,&#x0667;" />
-    <!-- U+0647: "ه" ARABIC LETTER HEH
-         U+0668: "٨" ARABIC-INDIC DIGIT EIGHT
-         U+FEEB: "ﻫ" ARABIC LETTER HEH INITIAL FORM
-         U+0647 U+200D: ARABIC LETTER HEH + ZERO WIDTH JOINER -->
-    <Key
-        latin:keySpec="&#x0647;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8,&#x0668;"
-        latin:moreKeys="&#xFEEB;|&#x0647;&#x200D;" />
-    <!-- U+062E: "خ" ARABIC LETTER KHAH
-         U+0669: "٩" ARABIC-INDIC DIGIT NINE -->
-    <Key
-        latin:keySpec="&#x062E;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9,&#x0669;" />
-    <!-- U+062D: "ح" ARABIC LETTER HAH
-         U+0660: "٠" ARABIC-INDIC DIGIT ZERO -->
-    <Key
-        latin:keySpec="&#x062D;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0,&#x0660;" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0636: "ض" ARABIC LETTER DAD
+                 U+0661: "١" ARABIC-INDIC DIGIT ONE -->
+            <Key
+                latin:keySpec="&#x0636;"
+                latin:additionalMoreKeys="&#x0661;" />
+            <!-- U+0635: "ص" ARABIC LETTER SAD
+                 U+0662: "٢" ARABIC-INDIC DIGIT TWO -->
+            <Key
+                latin:keySpec="&#x0635;"
+                latin:additionalMoreKeys="&#x0662;" />
+            <!-- U+062B: "ث" ARABIC LETTER THEH
+                 U+0663: "٣" ARABIC-INDIC DIGIT THREE -->
+            <Key
+                latin:keySpec="&#x062B;"
+                latin:additionalMoreKeys="&#x0663;" />
+            <!-- U+0642: "ق" ARABIC LETTER QAF
+                 U+0664: "٤" ARABIC-INDIC DIGIT FOUR
+                 U+06A8: "ڨ" ARABIC LETTER QAF WITH THREE DOTS ABOVE -->
+            <!-- TODO: DroidSansArabic lacks the glyph of U+06A8 ARABIC LETTER QAF WITH THREE DOTS ABOVE -->
+            <Key
+                latin:keySpec="&#x0642;"
+                latin:additionalMoreKeys="&#x0664;"
+                latin:moreKeys="&#x06A8;" />
+            <!-- U+0641: "ف" ARABIC LETTER FEH
+                 U+0665: "٥" ARABIC-INDIC DIGIT FIVE
+                 U+06A4: "ڤ" ARABIC LETTER VEH
+                 U+06A2: "ڢ" ARABIC LETTER FEH WITH DOT MOVED BELOW
+                 U+06A5: "ڥ" ARABIC LETTER FEH WITH THREE DOTS BELOW -->
+            <!-- TODO: DroidSansArabic lacks the glyph of U+06A2 ARABIC LETTER FEH WITH DOT MOVED BELOW -->
+            <!-- TODO: DroidSansArabic lacks the glyph of U+06A5 ARABIC LETTER FEH WITH THREE DOTS BELOW -->
+            <Key
+                latin:keySpec="&#x0641;"
+                latin:additionalMoreKeys="&#x0665;"
+                latin:moreKeys="&#x06A4;,&#x06A2;,&#x06A5;" />
+            <!-- U+063A: "غ" ARABIC LETTER GHAIN
+                 U+0666: "٦" ARABIC-INDIC DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x063A;"
+                latin:additionalMoreKeys="&#x0666;" />
+            <!-- U+0639: "ع" ARABIC LETTER AIN
+                 U+0667: "٧" ARABIC-INDIC DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0639;"
+                latin:additionalMoreKeys="&#x0667;" />
+            <!-- U+0647: "ه" ARABIC LETTER HEH
+                 U+0668: "٨" ARABIC-INDIC DIGIT EIGHT
+                 U+FEEB: "ﻫ" ARABIC LETTER HEH INITIAL FORM
+                 U+0647 U+200D: ARABIC LETTER HEH + ZERO WIDTH JOINER -->
+            <Key
+                latin:keySpec="&#x0647;"
+                latin:additionalMoreKeys="&#x0668;"
+                latin:moreKeys="&#xFEEB;|&#x0647;&#x200D;" />
+            <!-- U+062E: "خ" ARABIC LETTER KHAH
+                 U+0669: "٩" ARABIC-INDIC DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x062E;"
+                latin:additionalMoreKeys="&#x0669;" />
+            <!-- U+062D: "ح" ARABIC LETTER HAH
+                 U+0660: "٠" ARABIC-INDIC DIGIT ZERO -->
+            <Key
+                latin:keySpec="&#x062D;"
+                latin:additionalMoreKeys="&#x0660;" />
+        </case>
+        <default>
+            <!-- U+0636: "ض" ARABIC LETTER DAD
+                 U+0661: "١" ARABIC-INDIC DIGIT ONE -->
+            <Key
+                latin:keySpec="&#x0636;"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1,&#x0661;" />
+            <!-- U+0635: "ص" ARABIC LETTER SAD
+                 U+0662: "٢" ARABIC-INDIC DIGIT TWO -->
+            <Key
+                latin:keySpec="&#x0635;"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2,&#x0662;" />
+            <!-- U+062B: "ث" ARABIC LETTER THEH
+                 U+0663: "٣" ARABIC-INDIC DIGIT THREE -->
+            <Key
+                latin:keySpec="&#x062B;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3,&#x0663;" />
+            <!-- U+0642: "ق" ARABIC LETTER QAF
+                 U+0664: "٤" ARABIC-INDIC DIGIT FOUR
+                 U+06A8: "ڨ" ARABIC LETTER QAF WITH THREE DOTS ABOVE -->
+            <!-- TODO: DroidSansArabic lacks the glyph of U+06A8 ARABIC LETTER QAF WITH THREE DOTS ABOVE -->
+            <Key
+                latin:keySpec="&#x0642;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4,&#x0664;"
+                latin:moreKeys="&#x06A8;" />
+            <!-- U+0641: "ف" ARABIC LETTER FEH
+                 U+0665: "٥" ARABIC-INDIC DIGIT FIVE
+                 U+06A4: "ڤ" ARABIC LETTER VEH
+                 U+06A2: "ڢ" ARABIC LETTER FEH WITH DOT MOVED BELOW
+                 U+06A5: "ڥ" ARABIC LETTER FEH WITH THREE DOTS BELOW -->
+            <!-- TODO: DroidSansArabic lacks the glyph of U+06A2 ARABIC LETTER FEH WITH DOT MOVED BELOW -->
+            <!-- TODO: DroidSansArabic lacks the glyph of U+06A5 ARABIC LETTER FEH WITH THREE DOTS BELOW -->
+            <Key
+                latin:keySpec="&#x0641;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5,&#x0665;"
+                latin:moreKeys="&#x06A4;,&#x06A2;,&#x06A5;" />
+            <!-- U+063A: "غ" ARABIC LETTER GHAIN
+                 U+0666: "٦" ARABIC-INDIC DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x063A;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6,&#x0666;" />
+            <!-- U+0639: "ع" ARABIC LETTER AIN
+                 U+0667: "٧" ARABIC-INDIC DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0639;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7,&#x0667;" />
+            <!-- U+0647: "ه" ARABIC LETTER HEH
+                 U+0668: "٨" ARABIC-INDIC DIGIT EIGHT
+                 U+FEEB: "ﻫ" ARABIC LETTER HEH INITIAL FORM
+                 U+0647 U+200D: ARABIC LETTER HEH + ZERO WIDTH JOINER -->
+            <Key
+                latin:keySpec="&#x0647;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8,&#x0668;"
+                latin:moreKeys="&#xFEEB;|&#x0647;&#x200D;" />
+            <!-- U+062E: "خ" ARABIC LETTER KHAH
+                 U+0669: "٩" ARABIC-INDIC DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x062E;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9,&#x0669;" />
+            <!-- U+062D: "ح" ARABIC LETTER HAH
+                 U+0660: "٠" ARABIC-INDIC DIGIT ZERO -->
+            <Key
+                latin:keySpec="&#x062D;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0,&#x0660;" />
+        </default>
+    </switch>
     <!-- U+062C: "ج" ARABIC LETTER JEEM
          U+0686: "چ" ARABIC LETTER TCHEH -->
     <Key
diff --git a/java/res/xml/rowkeys_azerty1.xml b/java/res/xml/rowkeys_azerty1.xml
index 67be342c0..10e4d3cdd 100644
--- a/java/res/xml/rowkeys_azerty1.xml
+++ b/java/res/xml/rowkeys_azerty1.xml
@@ -21,53 +21,88 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <Key
-        latin:keySpec="a"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1"
-        latin:moreKeys="!text/morekeys_a" />
-    <Key
-        latin:keySpec="z"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2"
-        latin:moreKeys="!text/morekeys_z" />
-    <Key
-        latin:keySpec="e"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3"
-        latin:moreKeys="!text/morekeys_e" />
-    <Key
-        latin:keySpec="r"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4"
-        latin:moreKeys="!text/morekeys_r" />
-    <Key
-        latin:keySpec="t"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5"
-        latin:moreKeys="!text/morekeys_t" />
-    <Key
-        latin:keySpec="y"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6"
-        latin:moreKeys="!text/morekeys_y" />
-    <Key
-        latin:keySpec="u"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7"
-        latin:moreKeys="!text/morekeys_u" />
-    <Key
-        latin:keySpec="i"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8"
-        latin:moreKeys="!text/morekeys_i" />
-    <Key
-        latin:keySpec="o"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9"
-        latin:moreKeys="!text/morekeys_o" />
-    <Key
-        latin:keySpec="p"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <Key
+                latin:keySpec="a"
+                latin:moreKeys="!text/morekeys_a" />
+            <Key
+                latin:keySpec="z"
+                latin:moreKeys="!text/morekeys_z" />
+            <Key
+                latin:keySpec="e"
+                latin:moreKeys="!text/morekeys_e" />
+            <Key
+                latin:keySpec="r"
+                latin:moreKeys="!text/morekeys_r" />
+            <Key
+                latin:keySpec="t"
+                latin:moreKeys="!text/morekeys_t" />
+            <Key
+                latin:keySpec="y"
+                latin:moreKeys="!text/morekeys_y" />
+            <Key
+                latin:keySpec="u"
+                latin:moreKeys="!text/morekeys_u" />
+            <Key
+                latin:keySpec="i"
+                latin:moreKeys="!text/morekeys_i" />
+            <Key
+                latin:keySpec="o"
+                latin:moreKeys="!text/morekeys_o" />
+            <Key
+                latin:keySpec="p" />
+        </case>
+        <default>
+            <Key
+                latin:keySpec="a"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1"
+                latin:moreKeys="!text/morekeys_a" />
+            <Key
+                latin:keySpec="z"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2"
+                latin:moreKeys="!text/morekeys_z" />
+            <Key
+                latin:keySpec="e"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3"
+                latin:moreKeys="!text/morekeys_e" />
+            <Key
+                latin:keySpec="r"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4"
+                latin:moreKeys="!text/morekeys_r" />
+            <Key
+                latin:keySpec="t"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5"
+                latin:moreKeys="!text/morekeys_t" />
+            <Key
+                latin:keySpec="y"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6"
+                latin:moreKeys="!text/morekeys_y" />
+            <Key
+                latin:keySpec="u"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7"
+                latin:moreKeys="!text/morekeys_u" />
+            <Key
+                latin:keySpec="i"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8"
+                latin:moreKeys="!text/morekeys_i" />
+            <Key
+                latin:keySpec="o"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9"
+                latin:moreKeys="!text/morekeys_o" />
+            <Key
+                latin:keySpec="p"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
 </merge>
diff --git a/java/res/xml/rowkeys_bulgarian1.xml b/java/res/xml/rowkeys_bulgarian1.xml
index e84719302..4ee86a775 100644
--- a/java/res/xml/rowkeys_bulgarian1.xml
+++ b/java/res/xml/rowkeys_bulgarian1.xml
@@ -21,58 +21,96 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <!-- U+044F: "я" CYRILLIC SMALL LETTER YA -->
-    <Key
-        latin:keySpec="&#x044F;"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0432: "в" CYRILLIC SMALL LETTER VE -->
-    <Key
-        latin:keySpec="&#x0432;"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
-    <Key
-        latin:keySpec="&#x0435;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3" />
-    <!-- U+0440: "р" CYRILLIC SMALL LETTER ER -->
-    <Key
-        latin:keySpec="&#x0440;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+0442: "т" CYRILLIC SMALL LETTER TE -->
-    <Key
-        latin:keySpec="&#x0442;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+044A: "ъ" CYRILLIC SMALL LETTER HARD SIGN -->
-    <Key
-        latin:keySpec="&#x044A;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
-    <Key
-        latin:keySpec="&#x0443;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+0438: "и" CYRILLIC SMALL LETTER I
-         U+045D: "ѝ" CYRILLIC SMALL LETTER I WITH GRAVE -->
-    <Key
-        latin:keySpec="&#x0438;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8"
-        latin:moreKeys="&#x045D;" />
-    <!-- U+043E: "о" CYRILLIC SMALL LETTER O -->
-    <Key
-        latin:keySpec="&#x043E;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+043F: "п" CYRILLIC SMALL LETTER PE -->
-    <Key
-        latin:keySpec="&#x043F;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+044F: "я" CYRILLIC SMALL LETTER YA -->
+            <Key
+                latin:keySpec="&#x044F;" />
+            <!-- U+0432: "в" CYRILLIC SMALL LETTER VE -->
+            <Key
+                latin:keySpec="&#x0432;" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;" />
+            <!-- U+0440: "р" CYRILLIC SMALL LETTER ER -->
+            <Key
+                latin:keySpec="&#x0440;" />
+            <!-- U+0442: "т" CYRILLIC SMALL LETTER TE -->
+            <Key
+                latin:keySpec="&#x0442;" />
+            <!-- U+044A: "ъ" CYRILLIC SMALL LETTER HARD SIGN -->
+            <Key
+                latin:keySpec="&#x044A;" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;" />
+            <!-- U+0438: "и" CYRILLIC SMALL LETTER I
+                 U+045D: "ѝ" CYRILLIC SMALL LETTER I WITH GRAVE -->
+            <Key
+                latin:keySpec="&#x0438;"
+                latin:moreKeys="&#x045D;" />
+            <!-- U+043E: "о" CYRILLIC SMALL LETTER O -->
+            <Key
+                latin:keySpec="&#x043E;" />
+            <!-- U+043F: "п" CYRILLIC SMALL LETTER PE -->
+            <Key
+                latin:keySpec="&#x043F;" />
+        </case>
+        <default>
+            !-- U+044F: "я" CYRILLIC SMALL LETTER YA -->
+            <Key
+                latin:keySpec="&#x044F;"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0432: "в" CYRILLIC SMALL LETTER VE -->
+            <Key
+                latin:keySpec="&#x0432;"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3" />
+            <!-- U+0440: "р" CYRILLIC SMALL LETTER ER -->
+            <Key
+                latin:keySpec="&#x0440;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+0442: "т" CYRILLIC SMALL LETTER TE -->
+            <Key
+                latin:keySpec="&#x0442;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+044A: "ъ" CYRILLIC SMALL LETTER HARD SIGN -->
+            <Key
+                latin:keySpec="&#x044A;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+0438: "и" CYRILLIC SMALL LETTER I
+                 U+045D: "ѝ" CYRILLIC SMALL LETTER I WITH GRAVE -->
+            <Key
+                latin:keySpec="&#x0438;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8"
+                latin:moreKeys="&#x045D;" />
+            <!-- U+043E: "о" CYRILLIC SMALL LETTER O -->
+            <Key
+                latin:keySpec="&#x043E;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+043F: "п" CYRILLIC SMALL LETTER PE -->
+            <Key
+                latin:keySpec="&#x043F;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0447: "ч" CYRILLIC SMALL LETTER CHE -->
     <Key
         latin:keySpec="&#x0447;" />
diff --git a/java/res/xml/rowkeys_bulgarian_bds1.xml b/java/res/xml/rowkeys_bulgarian_bds1.xml
index 9d6428268..0d428dd53 100644
--- a/java/res/xml/rowkeys_bulgarian_bds1.xml
+++ b/java/res/xml/rowkeys_bulgarian_bds1.xml
@@ -21,58 +21,96 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
-    <Key
-        latin:keySpec="&#x0443;"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
-    <Key
-        latin:keySpec="&#x0435;"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0438: "и" CYRILLIC SMALL LETTER I
-         U+045D: "ѝ" CYRILLIC SMALL LETTER I WITH GRAVE -->
-    <Key
-        latin:keySpec="&#x0438;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3"
-        latin:moreKeys="&#x045D;" />
-    <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA -->
-    <Key
-        latin:keySpec="&#x0448;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+0449: "щ" CYRILLIC SMALL LETTER SHCHA -->
-    <Key
-        latin:keySpec="&#x0449;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+043A: "к" CYRILLIC SMALL LETTER KA -->
-    <Key
-        latin:keySpec="&#x043A;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+0441: "с" CYRILLIC SMALL LETTER ES -->
-    <Key
-        latin:keySpec="&#x0441;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+0434: "д" CYRILLIC SMALL LETTER DE -->
-    <Key
-        latin:keySpec="&#x0434;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8" />
-    <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
-    <Key
-        latin:keySpec="&#x0437;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
-    <Key
-        latin:keySpec="&#x0446;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;" />
+            <!-- U+0438: "и" CYRILLIC SMALL LETTER I
+                 U+045D: "ѝ" CYRILLIC SMALL LETTER I WITH GRAVE -->
+            <Key
+                latin:keySpec="&#x0438;"
+                latin:moreKeys="&#x045D;" />
+            <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA -->
+            <Key
+                latin:keySpec="&#x0448;" />
+            <!-- U+0449: "щ" CYRILLIC SMALL LETTER SHCHA -->
+            <Key
+                latin:keySpec="&#x0449;" />
+            <!-- U+043A: "к" CYRILLIC SMALL LETTER KA -->
+            <Key
+                latin:keySpec="&#x043A;" />
+            <!-- U+0441: "с" CYRILLIC SMALL LETTER ES -->
+            <Key
+                latin:keySpec="&#x0441;" />
+            <!-- U+0434: "д" CYRILLIC SMALL LETTER DE -->
+            <Key
+                latin:keySpec="&#x0434;" />
+            <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
+            <Key
+                latin:keySpec="&#x0437;" />
+            <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
+            <Key
+                latin:keySpec="&#x0446;" />
+        </case>
+        <default>
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0438: "и" CYRILLIC SMALL LETTER I
+                 U+045D: "ѝ" CYRILLIC SMALL LETTER I WITH GRAVE -->
+            <Key
+                latin:keySpec="&#x0438;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3"
+                latin:moreKeys="&#x045D;" />
+            <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA -->
+            <Key
+                latin:keySpec="&#x0448;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+0449: "щ" CYRILLIC SMALL LETTER SHCHA -->
+            <Key
+                latin:keySpec="&#x0449;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+043A: "к" CYRILLIC SMALL LETTER KA -->
+            <Key
+                latin:keySpec="&#x043A;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+0441: "с" CYRILLIC SMALL LETTER ES -->
+            <Key
+                latin:keySpec="&#x0441;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+0434: "д" CYRILLIC SMALL LETTER DE -->
+            <Key
+                latin:keySpec="&#x0434;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8" />
+            <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
+            <Key
+                latin:keySpec="&#x0437;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
+            <Key
+                latin:keySpec="&#x0446;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0431: "б" CYRILLIC SMALL LETTER BE -->
     <Key
         latin:keySpec="&#x0431;" />
diff --git a/java/res/xml/rowkeys_colemak1.xml b/java/res/xml/rowkeys_colemak1.xml
index 199d285f9..0c077580c 100644
--- a/java/res/xml/rowkeys_colemak1.xml
+++ b/java/res/xml/rowkeys_colemak1.xml
@@ -21,63 +21,106 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <Key
-        latin:keySpec="q"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <Key
-        latin:keySpec="w"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2"
-        latin:moreKeys="!text/morekeys_w" />
-    <Key
-        latin:keySpec="f"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3" />
-    <Key
-        latin:keySpec="p"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <Key
-        latin:keySpec="g"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5"
-        latin:moreKeys="!text/morekeys_g" />
-    <Key
-        latin:keySpec="j"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6"
-        latin:moreKeys="!text/morekeys_j" />
-    <Key
-        latin:keySpec="l"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7"
-        latin:moreKeys="!text/morekeys_l" />
-    <Key
-        latin:keySpec="u"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8"
-        latin:moreKeys="!text/morekeys_u" />
-    <Key
-        latin:keySpec="y"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9"
-        latin:moreKeys="!text/morekeys_y" />
     <switch>
-        <case
-            latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
-        >
+        <case latin:showNumberRow="true">
             <Key
-                latin:keySpec=":"
-                latin:keyHintLabel="0"
-                latin:additionalMoreKeys="0" />
+                latin:keySpec="q" />
+            <Key
+                latin:keySpec="w"
+                latin:moreKeys="!text/morekeys_w" />
+            <Key
+                latin:keySpec="f" />
+            <Key
+                latin:keySpec="p" />
+            <Key
+                latin:keySpec="g"
+                latin:moreKeys="!text/morekeys_g" />
+            <Key
+                latin:keySpec="j"
+                latin:moreKeys="!text/morekeys_j" />
+            <Key
+                latin:keySpec="l"
+                latin:moreKeys="!text/morekeys_l" />
+            <Key
+                latin:keySpec="u"
+                latin:moreKeys="!text/morekeys_u" />
+            <Key
+                latin:keySpec="y"
+                latin:moreKeys="!text/morekeys_y" />
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
+                >
+                    <Key
+                        latin:keySpec=":" />
+                </case>
+                <default>
+                    <Key
+                        latin:keySpec=";"
+                        latin:moreKeys=":" />
+                </default>
+            </switch>
         </case>
         <default>
             <Key
-                latin:keySpec=";"
-                latin:keyHintLabel="0"
-                latin:additionalMoreKeys="0"
-                latin:moreKeys=":" />
+                latin:keySpec="q"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <Key
+                latin:keySpec="w"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2"
+                latin:moreKeys="!text/morekeys_w" />
+            <Key
+                latin:keySpec="f"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3" />
+            <Key
+                latin:keySpec="p"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <Key
+                latin:keySpec="g"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5"
+                latin:moreKeys="!text/morekeys_g" />
+            <Key
+                latin:keySpec="j"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6"
+                latin:moreKeys="!text/morekeys_j" />
+            <Key
+                latin:keySpec="l"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7"
+                latin:moreKeys="!text/morekeys_l" />
+            <Key
+                latin:keySpec="u"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8"
+                latin:moreKeys="!text/morekeys_u" />
+            <Key
+                latin:keySpec="y"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9"
+                latin:moreKeys="!text/morekeys_y" />
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
+                >
+                    <Key
+                        latin:keySpec=":"
+                        latin:keyHintLabel="0"
+                        latin:additionalMoreKeys="0" />
+                </case>
+                <default>
+                    <Key
+                        latin:keySpec=";"
+                        latin:keyHintLabel="0"
+                        latin:additionalMoreKeys="0"
+                        latin:moreKeys=":" />
+                </default>
+            </switch>
         </default>
     </switch>
 </merge>
diff --git a/java/res/xml/rowkeys_east_slavic1.xml b/java/res/xml/rowkeys_east_slavic1.xml
index 88d95fffb..0ffa4bc6f 100644
--- a/java/res/xml/rowkeys_east_slavic1.xml
+++ b/java/res/xml/rowkeys_east_slavic1.xml
@@ -21,60 +21,100 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <!-- U+0439: "й" CYRILLIC SMALL LETTER SHORT I -->
-    <Key
-        latin:keySpec="&#x0439;"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
-    <Key
-        latin:keySpec="&#x0446;"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
-    <Key
-        latin:keySpec="&#x0443;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3"
-        latin:moreKeys="!text/morekeys_cyrillic_u" />
-    <!-- U+043A: "к" CYRILLIC SMALL LETTER KA -->
-    <Key
-        latin:keySpec="&#x043A;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4"
-        latin:moreKeys="!text/morekeys_cyrillic_ka" />
-    <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
-    <Key
-        latin:keySpec="&#x0435;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5"
-        latin:moreKeys="!text/morekeys_cyrillic_ie" />
-    <!-- U+043D: "н" CYRILLIC SMALL LETTER EN -->
-    <Key
-        latin:keySpec="&#x043D;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6"
-        latin:moreKeys="!text/morekeys_cyrillic_en" />
-    <!-- U+0433: "г" CYRILLIC SMALL LETTER GHE -->
-    <Key
-        latin:keySpec="&#x0433;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7"
-        latin:moreKeys="!text/morekeys_cyrillic_ghe" />
-    <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA -->
-    <Key
-        latin:keySpec="&#x0448;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8" />
-    <Key
-        latin:keySpec="!text/keyspec_east_slavic_row1_9"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
-    <Key
-        latin:keySpec="&#x0437;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0439: "й" CYRILLIC SMALL LETTER SHORT I -->
+            <Key
+                latin:keySpec="&#x0439;" />
+            <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
+            <Key
+                latin:keySpec="&#x0446;" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;"
+                latin:moreKeys="!text/morekeys_cyrillic_u" />
+            <!-- U+043A: "к" CYRILLIC SMALL LETTER KA -->
+            <Key
+                latin:keySpec="&#x043A;"
+                latin:moreKeys="!text/morekeys_cyrillic_ka" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;"
+                latin:moreKeys="!text/morekeys_cyrillic_ie" />
+            <!-- U+043D: "н" CYRILLIC SMALL LETTER EN -->
+            <Key
+                latin:keySpec="&#x043D;"
+                latin:moreKeys="!text/morekeys_cyrillic_en" />
+            <!-- U+0433: "г" CYRILLIC SMALL LETTER GHE -->
+            <Key
+                latin:keySpec="&#x0433;"
+                latin:moreKeys="!text/morekeys_cyrillic_ghe" />
+            <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA -->
+            <Key
+                latin:keySpec="&#x0448;" />
+            <Key
+                latin:keySpec="!text/keyspec_east_slavic_row1_9" />
+            <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
+            <Key
+                latin:keySpec="&#x0437;" />
+        </case>
+        <default>
+            <!-- U+0439: "й" CYRILLIC SMALL LETTER SHORT I -->
+            <Key
+                latin:keySpec="&#x0439;"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
+            <Key
+                latin:keySpec="&#x0446;"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3"
+                latin:moreKeys="!text/morekeys_cyrillic_u" />
+            <!-- U+043A: "к" CYRILLIC SMALL LETTER KA -->
+            <Key
+                latin:keySpec="&#x043A;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4"
+                latin:moreKeys="!text/morekeys_cyrillic_ka" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5"
+                latin:moreKeys="!text/morekeys_cyrillic_ie" />
+            <!-- U+043D: "н" CYRILLIC SMALL LETTER EN -->
+            <Key
+                latin:keySpec="&#x043D;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6"
+                latin:moreKeys="!text/morekeys_cyrillic_en" />
+            <!-- U+0433: "г" CYRILLIC SMALL LETTER GHE -->
+            <Key
+                latin:keySpec="&#x0433;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7"
+                latin:moreKeys="!text/morekeys_cyrillic_ghe" />
+            <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA -->
+            <Key
+                latin:keySpec="&#x0448;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8" />
+            <Key
+                latin:keySpec="!text/keyspec_east_slavic_row1_9"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
+            <Key
+                latin:keySpec="&#x0437;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0445: "х" CYRILLIC SMALL LETTER HA -->
     <Key
         latin:keySpec="&#x0445;" />
diff --git a/java/res/xml/rowkeys_georgian1.xml b/java/res/xml/rowkeys_georgian1.xml
index c412aa3fa..e56992d1e 100644
--- a/java/res/xml/rowkeys_georgian1.xml
+++ b/java/res/xml/rowkeys_georgian1.xml
@@ -22,110 +22,183 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <switch>
-        <case
-            latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLocked|alphabetShiftLockShifted"
-        >
-            <Key
-                latin:keySpec="Q"
-                latin:keyHintLabel="1"
-                latin:additionalMoreKeys="1" />
-            <!-- U+10ED: "ჭ" GEORGIAN LETTER CHAR -->
-            <Key
-                latin:keySpec="&#x10ED;"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="2" />
-            <Key
-                latin:keySpec="E"
-                latin:keyHintLabel="3"
-                latin:additionalMoreKeys="3" />
-            <!-- U+10E6: "ღ" GEORGIAN LETTER GHAN -->
-            <Key
-                latin:keySpec="&#x10E6;"
-                latin:keyHintLabel="4"
-                latin:additionalMoreKeys="4" />
-            <!-- U+10D7: "თ" GEORGIAN LETTER TAN -->
-            <Key
-                latin:keySpec="&#x10D7;"
-                latin:keyHintLabel="5"
-                latin:additionalMoreKeys="5" />
-            <Key
-                latin:keySpec="Y"
-                latin:keyHintLabel="6"
-                latin:additionalMoreKeys="6" />
-            <Key
-                latin:keySpec="U"
-                latin:keyHintLabel="7"
-                latin:additionalMoreKeys="7" />
-            <Key
-                latin:keySpec="I"
-                latin:keyHintLabel="8"
-                latin:additionalMoreKeys="8" />
-            <Key
-                latin:keySpec="O"
-                latin:keyHintLabel="9"
-                latin:additionalMoreKeys="9" />
-            <Key
-                latin:keySpec="P"
-                latin:keyHintLabel="0"
-                latin:additionalMoreKeys="0" />
+        <case latin:showNumberRow="true">
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLocked|alphabetShiftLockShifted"
+                >
+                    <Key
+                        latin:keySpec="Q" />
+                    <!-- U+10ED: "ჭ" GEORGIAN LETTER CHAR -->
+                    <Key
+                        latin:keySpec="&#x10ED;" />
+                    <Key
+                        latin:keySpec="E" />
+                    <!-- U+10E6: "ღ" GEORGIAN LETTER GHAN -->
+                    <Key
+                        latin:keySpec="&#x10E6;" />
+                    <!-- U+10D7: "თ" GEORGIAN LETTER TAN -->
+                    <Key
+                        latin:keySpec="&#x10D7;" />
+                    <Key
+                        latin:keySpec="Y" />
+                    <Key
+                        latin:keySpec="U" />
+                    <Key
+                        latin:keySpec="I" />
+                    <Key
+                        latin:keySpec="O" />
+                    <Key
+                        latin:keySpec="P" />
+                </case>
+                <default>
+                    <!-- U+10E5: "ქ" GEORGIAN LETTER GHAN -->
+                    <Key
+                        latin:keySpec="&#x10E5;" />
+                    <!-- U+10EC: "წ" GEORGIAN LETTER CIL -->
+                    <Key
+                        latin:keySpec="&#x10EC;" />
+                    <!-- U+10D4: "ე" GEORGIAN LETTER EN
+                         U+10F1: "ჱ" GEORGIAN LETTER HE -->
+                    <Key
+                        latin:keySpec="&#x10D4;"
+                        latin:moreKeys="&#x10F1;" />
+                    <!-- U+10E0: "რ" GEORGIAN LETTER RAE -->
+                    <Key
+                        latin:keySpec="&#x10E0;" />
+                    <!-- U+10E2: "ტ" GEORGIAN LETTER TAR -->
+                    <Key
+                        latin:keySpec="&#x10E2;" />
+                    <!-- U+10E7: "ყ" GEORGIAN LETTER QAR
+                         U+10F8: "ჸ" GEORGIAN LETTER ELIFI -->
+                    <Key
+                        latin:keySpec="&#x10E7;"
+                        latin:moreKeys="&#x10F8;" />
+                    <!-- U+10E3: "უ" GEORGIAN LETTER UN -->
+                    <Key
+                        latin:keySpec="&#x10E3;" />
+                    <!-- U+10D8: "ი" GEORGIAN LETTER IN
+                         U+10F2: "ჲ" GEORGIAN LETTER HIE -->
+                    <Key
+                        latin:keySpec="&#x10D8;"
+                        latin:moreKeys="&#x10F2;" />
+                    <!-- U+10DD: "ო" GEORGIAN LETTER ON -->
+                    <Key
+                        latin:keySpec="&#x10DD;" />
+                    <!-- U+10DE: "პ" GEORGIAN LETTER PAR -->
+                    <Key
+                        latin:keySpec="&#x10DE;" />
+                </default>
+            </switch>
         </case>
         <default>
-            <!-- U+10E5: "ქ" GEORGIAN LETTER GHAN -->
-            <Key
-                latin:keySpec="&#x10E5;"
-                latin:keyHintLabel="1"
-                latin:additionalMoreKeys="1" />
-            <!-- U+10EC: "წ" GEORGIAN LETTER CIL -->
-            <Key
-                latin:keySpec="&#x10EC;"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="2" />
-            <!-- U+10D4: "ე" GEORGIAN LETTER EN
-                 U+10F1: "ჱ" GEORGIAN LETTER HE -->
-            <Key
-                latin:keySpec="&#x10D4;"
-                latin:moreKeys="&#x10F1;"
-                latin:keyHintLabel="3"
-                latin:additionalMoreKeys="3" />
-            <!-- U+10E0: "რ" GEORGIAN LETTER RAE -->
-            <Key
-                latin:keySpec="&#x10E0;"
-                latin:keyHintLabel="4"
-                latin:additionalMoreKeys="4" />
-            <!-- U+10E2: "ტ" GEORGIAN LETTER TAR -->
-            <Key
-                latin:keySpec="&#x10E2;"
-                latin:keyHintLabel="5"
-                latin:additionalMoreKeys="5" />
-            <!-- U+10E7: "ყ" GEORGIAN LETTER QAR
-                 U+10F8: "ჸ" GEORGIAN LETTER ELIFI -->
-            <Key
-                latin:keySpec="&#x10E7;"
-                latin:moreKeys="&#x10F8;"
-                latin:keyHintLabel="6"
-                latin:additionalMoreKeys="6" />
-            <!-- U+10E3: "უ" GEORGIAN LETTER UN -->
-            <Key
-                latin:keySpec="&#x10E3;"
-                latin:keyHintLabel="7"
-                latin:additionalMoreKeys="7" />
-            <!-- U+10D8: "ი" GEORGIAN LETTER IN
-                 U+10F2: "ჲ" GEORGIAN LETTER HIE -->
-            <Key
-                latin:keySpec="&#x10D8;"
-                latin:moreKeys="&#x10F2;"
-                latin:keyHintLabel="8"
-                latin:additionalMoreKeys="8" />
-            <!-- U+10DD: "ო" GEORGIAN LETTER ON -->
-            <Key
-                latin:keySpec="&#x10DD;"
-                latin:keyHintLabel="9"
-                latin:additionalMoreKeys="9" />
-            <!-- U+10DE: "პ" GEORGIAN LETTER PAR -->
-            <Key
-                latin:keySpec="&#x10DE;"
-                latin:keyHintLabel="0"
-                latin:additionalMoreKeys="0" />
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLocked|alphabetShiftLockShifted"
+                    >
+                    <Key
+                        latin:keySpec="Q"
+                        latin:keyHintLabel="1"
+                        latin:additionalMoreKeys="1" />
+                    <!-- U+10ED: "ჭ" GEORGIAN LETTER CHAR -->
+                    <Key
+                        latin:keySpec="&#x10ED;"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="2" />
+                    <Key
+                        latin:keySpec="E"
+                        latin:keyHintLabel="3"
+                        latin:additionalMoreKeys="3" />
+                    <!-- U+10E6: "ღ" GEORGIAN LETTER GHAN -->
+                    <Key
+                        latin:keySpec="&#x10E6;"
+                        latin:keyHintLabel="4"
+                        latin:additionalMoreKeys="4" />
+                    <!-- U+10D7: "თ" GEORGIAN LETTER TAN -->
+                    <Key
+                        latin:keySpec="&#x10D7;"
+                        latin:keyHintLabel="5"
+                        latin:additionalMoreKeys="5" />
+                    <Key
+                        latin:keySpec="Y"
+                        latin:keyHintLabel="6"
+                        latin:additionalMoreKeys="6" />
+                    <Key
+                        latin:keySpec="U"
+                        latin:keyHintLabel="7"
+                        latin:additionalMoreKeys="7" />
+                    <Key
+                        latin:keySpec="I"
+                        latin:keyHintLabel="8"
+                        latin:additionalMoreKeys="8" />
+                    <Key
+                        latin:keySpec="O"
+                        latin:keyHintLabel="9"
+                        latin:additionalMoreKeys="9" />
+                    <Key
+                        latin:keySpec="P"
+                        latin:keyHintLabel="0"
+                        latin:additionalMoreKeys="0" />
+                </case>
+                <default>
+                    <!-- U+10E5: "ქ" GEORGIAN LETTER GHAN -->
+                    <Key
+                        latin:keySpec="&#x10E5;"
+                        latin:keyHintLabel="1"
+                        latin:additionalMoreKeys="1" />
+                    <!-- U+10EC: "წ" GEORGIAN LETTER CIL -->
+                    <Key
+                        latin:keySpec="&#x10EC;"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="2" />
+                    <!-- U+10D4: "ე" GEORGIAN LETTER EN
+                         U+10F1: "ჱ" GEORGIAN LETTER HE -->
+                    <Key
+                        latin:keySpec="&#x10D4;"
+                        latin:moreKeys="&#x10F1;"
+                        latin:keyHintLabel="3"
+                        latin:additionalMoreKeys="3" />
+                    <!-- U+10E0: "რ" GEORGIAN LETTER RAE -->
+                    <Key
+                        latin:keySpec="&#x10E0;"
+                        latin:keyHintLabel="4"
+                        latin:additionalMoreKeys="4" />
+                    <!-- U+10E2: "ტ" GEORGIAN LETTER TAR -->
+                    <Key
+                        latin:keySpec="&#x10E2;"
+                        latin:keyHintLabel="5"
+                        latin:additionalMoreKeys="5" />
+                    <!-- U+10E7: "ყ" GEORGIAN LETTER QAR
+                         U+10F8: "ჸ" GEORGIAN LETTER ELIFI -->
+                    <Key
+                        latin:keySpec="&#x10E7;"
+                        latin:moreKeys="&#x10F8;"
+                        latin:keyHintLabel="6"
+                        latin:additionalMoreKeys="6" />
+                    <!-- U+10E3: "უ" GEORGIAN LETTER UN -->
+                    <Key
+                        latin:keySpec="&#x10E3;"
+                        latin:keyHintLabel="7"
+                        latin:additionalMoreKeys="7" />
+                    <!-- U+10D8: "ი" GEORGIAN LETTER IN
+                         U+10F2: "ჲ" GEORGIAN LETTER HIE -->
+                    <Key
+                        latin:keySpec="&#x10D8;"
+                        latin:moreKeys="&#x10F2;"
+                        latin:keyHintLabel="8"
+                        latin:additionalMoreKeys="8" />
+                    <!-- U+10DD: "ო" GEORGIAN LETTER ON -->
+                    <Key
+                        latin:keySpec="&#x10DD;"
+                        latin:keyHintLabel="9"
+                        latin:additionalMoreKeys="9" />
+                    <!-- U+10DE: "პ" GEORGIAN LETTER PAR -->
+                    <Key
+                        latin:keySpec="&#x10DE;"
+                        latin:keyHintLabel="0"
+                        latin:additionalMoreKeys="0" />
+                </default>
+            </switch>
         </default>
     </switch>
 </merge>
diff --git a/java/res/xml/rowkeys_greek1.xml b/java/res/xml/rowkeys_greek1.xml
index 45895a579..70f00b6b0 100644
--- a/java/res/xml/rowkeys_greek1.xml
+++ b/java/res/xml/rowkeys_greek1.xml
@@ -22,137 +22,201 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <switch>
-        <case
-            latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
-        >
-            <Key
-                latin:keySpec=":"
-                latin:keyHintLabel="1"
-                latin:moreKeys=";,&#x00B7;"
-                latin:additionalMoreKeys="1" />
-        </case>
-        <default>
+        <case latin:showNumberRow="true">
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
+                >
+                    <Key
+                        latin:keySpec=":"
+                        latin:keyHintLabel=";"
+                        latin:additionalMoreKeys=";" />
+                </case>
+                <default>
+                    <Key
+                        latin:keySpec=";"
+                        latin:keyHintLabel=":"
+                        latin:additionalMoreKeys=":" />
+                </default>
+            </switch>
+            <!-- TODO: Should find a way to compound Greek dialytika tonos and other Greek letters. -->
+            <!--
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
+                >
+                    U+0385: "΅" GREEK DIALYTIKA TONOS
+                    <Key
+                        latin:keySpec="&#x0385;"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="2" />
+                </case>
+                <default>
+                -->
+                    <!-- U+03C2: "ς" GREEK SMALL LETTER FINAL SIGMA -->
+                    <Key
+                        latin:keySpec="&#x03C2;"
+                        latin:keyLabelFlags="preserveCase" />
+            <!--
+                </default>
+            </switch>
+                -->
             <Key
-                latin:keySpec=";"
-                latin:keyHintLabel="1"
-                latin:moreKeys=":,&#x00B7;"
-                latin:additionalMoreKeys="1" />
-        </default>
-    </switch>
-    <!-- TODO: Should find a way to compound Greek dialytika tonos and other Greek letters. -->
-    <!--
-    <switch>
-        <case
-            latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
-        >
-            U+0385: "΅" GREEK DIALYTIKA TONOS
-            <Key
-                latin:keySpec="&#x0385;"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="2" />
+                latin:keySpec="&#x03B5;"
+                latin:moreKeys="&#x03AD;,%" />
+            <Key
+                latin:keySpec="&#x03C1;" />
+            <Key
+                latin:keySpec="&#x03C4;" />
+            <Key
+                latin:keySpec="&#x03C5;"
+                latin:moreKeys="&#x03CD;,%,&#x03CB;,&#x03B0;" />
+            <Key
+                latin:keySpec="&#x03B8;" />
+            <Key
+                latin:keySpec="&#x03B9;"
+                latin:moreKeys="&#x03AF;,%,&#x03CA;,&#x0390;" />
+            <Key
+                latin:keySpec="&#x03BF;"
+                latin:moreKeys="&#x03CC;,%" />
+            <Key
+                latin:keySpec="&#x03C0;" />
         </case>
         <default>
-        -->
-            <!-- U+03C2: "ς" GREEK SMALL LETTER FINAL SIGMA -->
-            <Key
-                latin:keySpec="&#x03C2;"
-                latin:keyLabelFlags="preserveCase"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="2" />
-    <!--
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
+                >
+                    <Key
+                        latin:keySpec=":"
+                        latin:keyHintLabel="1"
+                        latin:moreKeys=";,&#x00B7;"
+                        latin:additionalMoreKeys="1" />
+                </case>
+                <default>
+                    <Key
+                        latin:keySpec=";"
+                        latin:keyHintLabel="1"
+                        latin:moreKeys=":,&#x00B7;"
+                        latin:additionalMoreKeys="1" />
+                </default>
+            </switch>
+            <!-- TODO: Should find a way to compound Greek dialytika tonos and other Greek letters. -->
+            <!--
+            <switch>
+                <case
+                    latin:keyboardLayoutSetElement="alphabetManualShifted|alphabetShiftLockShifted"
+                >
+                    U+0385: "΅" GREEK DIALYTIKA TONOS
+                    <Key
+                        latin:keySpec="&#x0385;"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="2" />
+                </case>
+                <default>
+                -->
+                    <!-- U+03C2: "ς" GREEK SMALL LETTER FINAL SIGMA -->
+                    <Key
+                        latin:keySpec="&#x03C2;"
+                        latin:keyLabelFlags="preserveCase"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="2" />
+            <!--
+                </default>
+            </switch>
+                -->
+            <!-- U+03B5: "ε" GREEK SMALL LETTER EPSILON
+                 U+03AD: "έ" GREEK SMALL LETTER EPSILON WITH TONOS
+                 U+1F72: "ὲ" GREEK SMALL LETTER EPSILON WITH VARIA
+                 U+1F10: "ἐ" GREEK SMALL LETTER EPSILON WITH PSILI
+                 U+1F11: "ἑ" GREEK SMALL LETTER EPSILON WITH DASIA
+                 U+1F14: "ἔ" GREEK SMALL LETTER EPSILON WITH PSILI AND OXIA
+                 U+1F15: "ἕ" GREEK SMALL LETTER EPSILON WITH DASIA AND OXIA
+                 U+1F12: "ἒ" GREEK SMALL LETTER EPSILON WITH PSILI AND VARIA
+                 U+1F13: "ἓ" GREEK SMALL LETTER EPSILON WITH DASIA AND VARIA -->
+            <Key
+                latin:keySpec="&#x03B5;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3"
+                latin:moreKeys="&#x03AD;,%,&#x1F72;,&#x1F10;,&#x1F11;,&#x1F14;,&#x1F15;,&#x1F12;,&#x1F13;" />
+            <!-- U+03C1: "ρ" GREEK SMALL LETTER RHO
+                 U+1FE5: "ῥ" GREEK SMALL LETTER RHO WITH DASIA -->
+            <Key
+                latin:keySpec="&#x03C1;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4"
+                latin:moreKeys="%,&#x1FE5;" />
+            <!-- U+03C4: "τ" GREEK SMALL LETTER TAU -->
+            <Key
+                latin:keySpec="&#x03C4;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+03C5: "υ" GREEK SMALL LETTER UPSILON
+                 U+03CD: "ύ" GREEK SMALL LETTER UPSILON WITH TONOS
+                 U+03CB: "ϋ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA
+                 U+03B0: "ΰ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA AND TONOS
+                 U+1F7A: "ὺ" GREEK SMALL LETTER UPSILON WITH VARIA
+                 U+1FE6: "ῦ" GREEK SMALL LETTER UPSILON WITH PERISPOMENI
+                 U+1F50: "ὐ" GREEK SMALL LETTER UPSILON WITH PSILI
+                 U+1F51: "ὑ" GREEK SMALL LETTER UPSILON WITH DASIA
+                 U+1F54: "ὔ" GREEK SMALL LETTER UPSILON WITH PSILI AND OXIA
+                 U+1F55: "ὕ" GREEK SMALL LETTER UPSILON WITH DASIA AND OXIA
+                 U+1F52: "ὒ" GREEK SMALL LETTER UPSILON WITH PSILI AND VARIA
+                 U+1F53: "ὓ" GREEK SMALL LETTER UPSILON WITH DASIA AND VARIA
+                 U+1F56: "ὖ" GREEK SMALL LETTER UPSILON WITH PSILI AND PERISPOMENI
+                 U+1F57: "ὗ" GREEK SMALL LETTER UPSILON WITH DASIA AND PERISPOMENI
+                 U+1FE2: "ῢ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA AND VARIA
+                 U+1FE7: "ῧ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA AND PERISPOMENI -->
+            <Key
+                latin:keySpec="&#x03C5;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6"
+                latin:moreKeys="&#x03CD;,%,&#x03CB;,&#x03B0;,&#x1F7A;,&#x1FE6;,&#x1F50;,&#x1F51;,&#x1F54;,&#x1F55;,&#x1F52;,&#x1F53;,&#x1F56;,&#x1F57;,&#x1FE2;,&#x1FE7;" />
+            <!-- U+03B8: "θ" GREEK SMALL LETTER THETA -->
+            <Key
+                latin:keySpec="&#x03B8;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+03B9: "ι" GREEK SMALL LETTER IOTA
+                 U+03AF: "ί" GREEK SMALL LETTER IOTA WITH TONOS
+                 U+03CA: "ϊ" GREEK SMALL LETTER IOTA WITH DIALYTIKA
+                 U+0390: "ΐ" GREEK SMALL LETTER IOTA WITH DIALYTIKA AND TONOS
+                 U+1F76: "ὶ" GREEK SMALL LETTER IOTA WITH VARIA
+                 U+1FD6: "ῖ" GREEK SMALL LETTER IOTA WITH PERISPOMENI
+                 U+1F30: "ἰ" GREEK SMALL LETTER IOTA WITH PSILI
+                 U+1F31: "ἱ" GREEK SMALL LETTER IOTA WITH DASIA
+                 U+1F34: "ἴ" GREEK SMALL LETTER IOTA WITH PSILI AND OXIA
+                 U+1F35: "ἵ" GREEK SMALL LETTER IOTA WITH DASIA AND OXIA
+                 U+1F32: "ἲ" GREEK SMALL LETTER IOTA WITH PSILI AND VARIA
+                 U+1F33: "ἳ" GREEK SMALL LETTER IOTA WITH DASIA AND VARIA
+                 U+1F36: "ἶ" GREEK SMALL LETTER IOTA WITH PSILI AND PERISPOMENI
+                 U+1F37: "ἷ" GREEK SMALL LETTER IOTA WITH DASIA AND PERISPOMENI
+                 U+1FD2: "ῒ" GREEK SMALL LETTER IOTA WITH DIALYTIKA AND VARIA
+                 U+1FD7: "ῗ" GREEK SMALL LETTER IOTA WITH DIALYTIKA AND PERISPOMENI -->
+            <Key
+                latin:keySpec="&#x03B9;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8"
+                latin:moreKeys="&#x03AF;,%,&#x03CA;,&#x0390;,&#x1F76;,&#x1FD6;,&#x1F30;,&#x1F31;,&#x1F34;,&#x1F35;,&#x1F32;,&#x1F33;,&#x1F36;,&#x1F37;,&#x1FD2;,&#x1FD7;" />
+            <!-- U+03BF: "ο" GREEK SMALL LETTER OMICRON
+                 U+03CC: "ό" GREEK SMALL LETTER OMICRON WITH TONOS
+                 U+1F78: "ὸ" GREEK SMALL LETTER OMICRON WITH VARIA
+                 U+1F40: "ὀ" GREEK SMALL LETTER OMICRON WITH PSILI
+                 U+1F41: "ὁ" GREEK SMALL LETTER OMICRON WITH DASIA
+                 U+1F44: "ὄ" GREEK SMALL LETTER OMICRON WITH PSILI AND OXIA
+                 U+1F45: "ὅ" GREEK SMALL LETTER OMICRON WITH DASIA AND OXIA
+                 U+1F42: "ὂ" GREEK SMALL LETTER OMICRON WITH PSILI AND VARIA
+                 U+1F43: "ὃ" GREEK SMALL LETTER OMICRON WITH DASIA AND VARIA -->
+            <Key
+                latin:keySpec="&#x03BF;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9"
+                latin:moreKeys="&#x03CC;,%,&#x1F78;,&#x1F40;,&#x1F41;,&#x1F44;,&#x1F45;,&#x1F42;,&#x1F43;" />
+            <!-- U+03C0: "π" GREEK SMALL LETTER PI -->
+            <Key
+                latin:keySpec="&#x03C0;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
         </default>
     </switch>
-        -->
-    <!-- U+03B5: "ε" GREEK SMALL LETTER EPSILON
-         U+03AD: "έ" GREEK SMALL LETTER EPSILON WITH TONOS
-         U+1F72: "ὲ" GREEK SMALL LETTER EPSILON WITH VARIA
-         U+1F10: "ἐ" GREEK SMALL LETTER EPSILON WITH PSILI
-         U+1F11: "ἑ" GREEK SMALL LETTER EPSILON WITH DASIA
-         U+1F14: "ἔ" GREEK SMALL LETTER EPSILON WITH PSILI AND OXIA
-         U+1F15: "ἕ" GREEK SMALL LETTER EPSILON WITH DASIA AND OXIA
-         U+1F12: "ἒ" GREEK SMALL LETTER EPSILON WITH PSILI AND VARIA
-         U+1F13: "ἓ" GREEK SMALL LETTER EPSILON WITH DASIA AND VARIA -->
-    <Key
-        latin:keySpec="&#x03B5;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3"
-        latin:moreKeys="&#x03AD;,%,&#x1F72;,&#x1F10;,&#x1F11;,&#x1F14;,&#x1F15;,&#x1F12;,&#x1F13;" />
-    <!-- U+03C1: "ρ" GREEK SMALL LETTER RHO
-         U+1FE5: "ῥ" GREEK SMALL LETTER RHO WITH DASIA -->
-    <Key
-        latin:keySpec="&#x03C1;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4"
-        latin:moreKeys="%,&#x1FE5;" />
-    <!-- U+03C4: "τ" GREEK SMALL LETTER TAU -->
-    <Key
-        latin:keySpec="&#x03C4;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+03C5: "υ" GREEK SMALL LETTER UPSILON
-         U+03CD: "ύ" GREEK SMALL LETTER UPSILON WITH TONOS
-         U+03CB: "ϋ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA
-         U+03B0: "ΰ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA AND TONOS
-         U+1F7A: "ὺ" GREEK SMALL LETTER UPSILON WITH VARIA
-         U+1FE6: "ῦ" GREEK SMALL LETTER UPSILON WITH PERISPOMENI
-         U+1F50: "ὐ" GREEK SMALL LETTER UPSILON WITH PSILI
-         U+1F51: "ὑ" GREEK SMALL LETTER UPSILON WITH DASIA
-         U+1F54: "ὔ" GREEK SMALL LETTER UPSILON WITH PSILI AND OXIA
-         U+1F55: "ὕ" GREEK SMALL LETTER UPSILON WITH DASIA AND OXIA
-         U+1F52: "ὒ" GREEK SMALL LETTER UPSILON WITH PSILI AND VARIA
-         U+1F53: "ὓ" GREEK SMALL LETTER UPSILON WITH DASIA AND VARIA
-         U+1F56: "ὖ" GREEK SMALL LETTER UPSILON WITH PSILI AND PERISPOMENI
-         U+1F57: "ὗ" GREEK SMALL LETTER UPSILON WITH DASIA AND PERISPOMENI
-         U+1FE2: "ῢ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA AND VARIA
-         U+1FE7: "ῧ" GREEK SMALL LETTER UPSILON WITH DIALYTIKA AND PERISPOMENI -->
-    <Key
-        latin:keySpec="&#x03C5;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6"
-        latin:moreKeys="&#x03CD;,%,&#x03CB;,&#x03B0;,&#x1F7A;,&#x1FE6;,&#x1F50;,&#x1F51;,&#x1F54;,&#x1F55;,&#x1F52;,&#x1F53;,&#x1F56;,&#x1F57;,&#x1FE2;,&#x1FE7;" />
-    <!-- U+03B8: "θ" GREEK SMALL LETTER THETA -->
-    <Key
-        latin:keySpec="&#x03B8;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+03B9: "ι" GREEK SMALL LETTER IOTA
-         U+03AF: "ί" GREEK SMALL LETTER IOTA WITH TONOS
-         U+03CA: "ϊ" GREEK SMALL LETTER IOTA WITH DIALYTIKA
-         U+0390: "ΐ" GREEK SMALL LETTER IOTA WITH DIALYTIKA AND TONOS
-         U+1F76: "ὶ" GREEK SMALL LETTER IOTA WITH VARIA
-         U+1FD6: "ῖ" GREEK SMALL LETTER IOTA WITH PERISPOMENI
-         U+1F30: "ἰ" GREEK SMALL LETTER IOTA WITH PSILI
-         U+1F31: "ἱ" GREEK SMALL LETTER IOTA WITH DASIA
-         U+1F34: "ἴ" GREEK SMALL LETTER IOTA WITH PSILI AND OXIA
-         U+1F35: "ἵ" GREEK SMALL LETTER IOTA WITH DASIA AND OXIA
-         U+1F32: "ἲ" GREEK SMALL LETTER IOTA WITH PSILI AND VARIA
-         U+1F33: "ἳ" GREEK SMALL LETTER IOTA WITH DASIA AND VARIA
-         U+1F36: "ἶ" GREEK SMALL LETTER IOTA WITH PSILI AND PERISPOMENI
-         U+1F37: "ἷ" GREEK SMALL LETTER IOTA WITH DASIA AND PERISPOMENI
-         U+1FD2: "ῒ" GREEK SMALL LETTER IOTA WITH DIALYTIKA AND VARIA
-         U+1FD7: "ῗ" GREEK SMALL LETTER IOTA WITH DIALYTIKA AND PERISPOMENI -->
-    <Key
-        latin:keySpec="&#x03B9;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8"
-        latin:moreKeys="&#x03AF;,%,&#x03CA;,&#x0390;,&#x1F76;,&#x1FD6;,&#x1F30;,&#x1F31;,&#x1F34;,&#x1F35;,&#x1F32;,&#x1F33;,&#x1F36;,&#x1F37;,&#x1FD2;,&#x1FD7;" />
-    <!-- U+03BF: "ο" GREEK SMALL LETTER OMICRON
-         U+03CC: "ό" GREEK SMALL LETTER OMICRON WITH TONOS
-         U+1F78: "ὸ" GREEK SMALL LETTER OMICRON WITH VARIA
-         U+1F40: "ὀ" GREEK SMALL LETTER OMICRON WITH PSILI
-         U+1F41: "ὁ" GREEK SMALL LETTER OMICRON WITH DASIA
-         U+1F44: "ὄ" GREEK SMALL LETTER OMICRON WITH PSILI AND OXIA
-         U+1F45: "ὅ" GREEK SMALL LETTER OMICRON WITH DASIA AND OXIA
-         U+1F42: "ὂ" GREEK SMALL LETTER OMICRON WITH PSILI AND VARIA
-         U+1F43: "ὃ" GREEK SMALL LETTER OMICRON WITH DASIA AND VARIA -->
-    <Key
-        latin:keySpec="&#x03BF;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9"
-        latin:moreKeys="&#x03CC;,%,&#x1F78;,&#x1F40;,&#x1F41;,&#x1F44;,&#x1F45;,&#x1F42;,&#x1F43;" />
-    <!-- U+03C0: "π" GREEK SMALL LETTER PI -->
-    <Key
-        latin:keySpec="&#x03C0;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
 </merge>
diff --git a/java/res/xml/rowkeys_hebrew1.xml b/java/res/xml/rowkeys_hebrew1.xml
index e888977ae..8b8f80590 100644
--- a/java/res/xml/rowkeys_hebrew1.xml
+++ b/java/res/xml/rowkeys_hebrew1.xml
@@ -22,69 +22,117 @@
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
     <switch>
-        <case
-            latin:mode="email|url"
-        >
+        <case latin:showNumberRow="true">
+            <switch>
+                <case
+                    latin:mode="email|url"
+                >
+                    <Key
+                        latin:keySpec="-" />
+                    <Key
+                        latin:keySpec="_" />
+                </case>
+                <default>
+                    <Key
+                        latin:keySpec="\'"
+                        latin:keyHintLabel="&quot;"
+                        latin:additionalMoreKeys="&quot;" />
+                    <Key
+                        latin:keySpec="-"
+                        latin:keyHintLabel="_"
+                        latin:additionalMoreKeys="_" />
+                </default>
+            </switch>
+            <!-- U+05E7: "ק" HEBREW LETTER QOF -->
             <Key
-                latin:keySpec="-"
-                latin:keyHintLabel="1"
-                latin:additionalMoreKeys="1" />
+                latin:keySpec="&#x05E7;" />
+            <!-- U+05E8: "ר" HEBREW LETTER RESH -->
             <Key
-                latin:keySpec="_"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="2" />
+                latin:keySpec="&#x05E8;" />
+            <!-- U+05D0: "א" HEBREW LETTER ALEF -->
+            <Key
+                latin:keySpec="&#x05D0;" />
+            <!-- U+05D8: "ט" HEBREW LETTER TET -->
+            <Key
+                latin:keySpec="&#x05D8;" />
+            <!-- U+05D5: "ו" HEBREW LETTER VAV -->
+            <Key
+                latin:keySpec="&#x05D5;" />
+            <!-- U+05DF: "ן" HEBREW LETTER FINAL NUN -->
+            <Key
+                latin:keySpec="&#x05DF;" />
+            <!-- U+05DD: "ם" HEBREW LETTER FINAL MEM -->
+            <Key
+                latin:keySpec="&#x05DD;" />
+            <!-- U+05E4: "פ" HEBREW LETTER PE -->
+            <Key
+                latin:keySpec="&#x05E4;" />
         </case>
         <default>
+            <switch>
+                <case latin:mode="email|url">
+                    <Key
+                        latin:keySpec="-"
+                        latin:keyHintLabel="1"
+                        latin:additionalMoreKeys="1" />
+                    <Key
+                        latin:keySpec="_"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="2" />
+                </case>
+                <default>
+                    <Key
+                        latin:keySpec="\'"
+                        latin:keyHintLabel="1"
+                        latin:additionalMoreKeys="1"
+                        latin:moreKeys="&quot;" />
+                    <Key
+                        latin:keySpec="-"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="2"
+                        latin:moreKeys="_" />
+                </default>
+            </switch>
+            <!-- U+05E7: "ק" HEBREW LETTER QOF -->
+            <Key
+                latin:keySpec="&#x05E7;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3" />
+            <!-- U+05E8: "ר" HEBREW LETTER RESH -->
+            <Key
+                latin:keySpec="&#x05E8;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+05D0: "א" HEBREW LETTER ALEF -->
+            <Key
+                latin:keySpec="&#x05D0;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+05D8: "ט" HEBREW LETTER TET -->
+            <Key
+                latin:keySpec="&#x05D8;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+05D5: "ו" HEBREW LETTER VAV -->
+            <Key
+                latin:keySpec="&#x05D5;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+05DF: "ן" HEBREW LETTER FINAL NUN -->
+            <Key
+                latin:keySpec="&#x05DF;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8" />
+            <!-- U+05DD: "ם" HEBREW LETTER FINAL MEM -->
             <Key
-                latin:keySpec="\'"
-                latin:keyHintLabel="1"
-                latin:additionalMoreKeys="1"
-                latin:moreKeys="&quot;" />
+                latin:keySpec="&#x05DD;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+05E4: "פ" HEBREW LETTER PE -->
             <Key
-                latin:keySpec="-"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="2"
-                latin:moreKeys="_" />
+                latin:keySpec="&#x05E4;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
         </default>
     </switch>
-    <!-- U+05E7: "ק" HEBREW LETTER QOF -->
-    <Key
-        latin:keySpec="&#x05E7;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3" />
-    <!-- U+05E8: "ר" HEBREW LETTER RESH -->
-    <Key
-        latin:keySpec="&#x05E8;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+05D0: "א" HEBREW LETTER ALEF -->
-    <Key
-        latin:keySpec="&#x05D0;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+05D8: "ט" HEBREW LETTER TET -->
-    <Key
-        latin:keySpec="&#x05D8;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+05D5: "ו" HEBREW LETTER VAV -->
-    <Key
-        latin:keySpec="&#x05D5;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+05DF: "ן" HEBREW LETTER FINAL NUN -->
-    <Key
-        latin:keySpec="&#x05DF;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8" />
-    <!-- U+05DD: "ם" HEBREW LETTER FINAL MEM -->
-    <Key
-        latin:keySpec="&#x05DD;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+05E4: "פ" HEBREW LETTER PE -->
-    <Key
-        latin:keySpec="&#x05E4;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
 </merge>
diff --git a/java/res/xml/rowkeys_hindi1.xml b/java/res/xml/rowkeys_hindi1.xml
index cd08e1600..2afabd6cc 100644
--- a/java/res/xml/rowkeys_hindi1.xml
+++ b/java/res/xml/rowkeys_hindi1.xml
@@ -69,91 +69,172 @@
             <Key latin:keySpec="&#x0922;" />
         </case>
         <default>
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
-            <!-- U+0967: "१" DEVANAGARI DIGIT ONE -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignAu"
-                latin:keyHintLabel="1"
-                latin:additionalMoreKeys="&#x0967;,1" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
-            <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignAi"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="&#x0968;,2" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
-            <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignAa"
-                latin:keyHintLabel="3"
-                latin:additionalMoreKeys="&#x0969;,3" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
-            <!-- U+096A: "४" DEVANAGARI DIGIT FOUR -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignIi"
-                latin:keyHintLabel="4"
-                latin:additionalMoreKeys="&#x096A;,4" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
-            <!-- U+096B: "५" DEVANAGARI DIGIT FIVE -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignUu"
-                latin:keyHintLabel="5"
-                latin:additionalMoreKeys="&#x096B;,5" />
-            <!-- U+092C: "ब" DEVANAGARI LETTER BA
-                 U+092C/U+0952: "ब॒" DEVANAGARI LETTER BA/DEVANAGARI STRESS SIGN ANUDATTA
-                 U+096C: "६" DEVANAGARI DIGIT SIX -->
-            <Key
-                latin:keySpec="&#x092C;"
-                latin:moreKeys="&#x092C;&#x0952;,%"
-                latin:keyHintLabel="6"
-                latin:additionalMoreKeys="&#x096C;,6" />
-            <!-- U+0939: "ह" DEVANAGARI LETTER HA
-                 U+096D: "७" DEVANAGARI DIGIT SEVEN -->
-            <Key
-                latin:keySpec="&#x0939;"
-                latin:keyHintLabel="7"
-                latin:additionalMoreKeys="&#x096D;,7" />
-            <!-- U+0917: "ग" DEVANAGARI LETTER GA
-                 U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
-                 U+0917/U+093C: "ग़" DEVANAGARI LETTER GA/DEVANAGARI SIGN NUKTA
-                 U+0917/U+0952: "ग॒" DEVANAGARI LETTER GA/DEVANAGARI STRESS SIGN ANUDATTA
-                 U+096E: "८" DEVANAGARI DIGIT EIGHT -->
-            <Key
-                latin:keySpec="&#x0917;"
-                latin:moreKeys="&#x091C;&#x094D;&#x091E;,&#x0917;&#x093C;,&#x0917;&#x0952;,%"
-                latin:keyHintLabel="8"
-                latin:additionalMoreKeys="&#x096E;,8" />
-            <!-- U+0926: "द" DEVANAGARI LETTER DA
-                 U+096F: "९" DEVANAGARI DIGIT NINE -->
-            <Key
-                latin:keySpec="&#x0926;"
-                latin:keyHintLabel="9"
-                latin:additionalMoreKeys="&#x096F;,9" />
-            <!-- U+091C: "ज" DEVANAGARI LETTER JA
-                 U+091C/U+0952: "ज॒" DEVANAGARI LETTER JA/DEVANAGARI STRESS SIGN ANUDATTA
-                 U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
-                 U+091C/U+093C: "ज़" DEVANAGARI LETTER JA/DEVANAGARI SIGN NUKTA
-                 U+0966: "०" DEVANAGARI DIGIT ZERO -->
-            <Key
-                latin:keySpec="&#x091C;"
-                latin:moreKeys="&#x091C;&#x0952;,&#x091C;&#x094D;&#x091E;,&#x091C;&#x093C;,%"
-                latin:keyHintLabel="0"
-                latin:additionalMoreKeys="&#x0966;,0" />
+            <switch>
+                <case latin:showNumberRow="true">
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+                    <!-- U+0967: "१" DEVANAGARI DIGIT ONE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAu"
+                        latin:additionalMoreKeys="&#x0967;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
+                    <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAi"
+                        latin:additionalMoreKeys="&#x0968;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
+                    <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAa"
+                        latin:additionalMoreKeys="&#x0969;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
+                    <!-- U+096A: "४" DEVANAGARI DIGIT FOUR -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignIi"
+                        latin:additionalMoreKeys="&#x096A;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
+                    <!-- U+096B: "५" DEVANAGARI DIGIT FIVE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignUu"
+                        latin:additionalMoreKeys="&#x096B;" />
+                    <!-- U+092C: "ब" DEVANAGARI LETTER BA
+                         U+092C/U+0952: "ब॒" DEVANAGARI LETTER BA/DEVANAGARI STRESS SIGN ANUDATTA
+                         U+096C: "६" DEVANAGARI DIGIT SIX -->
+                    <Key
+                        latin:keySpec="&#x092C;"
+                        latin:moreKeys="&#x092C;&#x0952;,%"
+                        latin:additionalMoreKeys="&#x096C;" />
+                    <!-- U+0939: "ह" DEVANAGARI LETTER HA
+                         U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+                    <Key
+                        latin:keySpec="&#x0939;"
+                        latin:additionalMoreKeys="&#x096D;" />
+                    <!-- U+0917: "ग" DEVANAGARI LETTER GA
+                         U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
+                         U+0917/U+093C: "ग़" DEVANAGARI LETTER GA/DEVANAGARI SIGN NUKTA
+                         U+0917/U+0952: "ग॒" DEVANAGARI LETTER GA/DEVANAGARI STRESS SIGN ANUDATTA
+                         U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+                    <Key
+                        latin:keySpec="&#x0917;"
+                        latin:moreKeys="&#x091C;&#x094D;&#x091E;,&#x0917;&#x093C;,&#x0917;&#x0952;,%"
+                        latin:additionalMoreKeys="&#x096E;" />
+                    <!-- U+0926: "द" DEVANAGARI LETTER DA
+                         U+096F: "९" DEVANAGARI DIGIT NINE -->
+                    <Key
+                        latin:keySpec="&#x0926;"
+                        latin:additionalMoreKeys="&#x096F;" />
+                    <!-- U+091C: "ज" DEVANAGARI LETTER JA
+                         U+091C/U+0952: "ज॒" DEVANAGARI LETTER JA/DEVANAGARI STRESS SIGN ANUDATTA
+                         U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
+                         U+091C/U+093C: "ज़" DEVANAGARI LETTER JA/DEVANAGARI SIGN NUKTA
+                         U+0966: "०" DEVANAGARI DIGIT ZERO -->
+                    <Key
+                        latin:keySpec="&#x091C;"
+                        latin:moreKeys="&#x091C;&#x0952;,&#x091C;&#x094D;&#x091E;,&#x091C;&#x093C;,%"
+                        latin:additionalMoreKeys="&#x0966;" />
+                </case>
+                <default>
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                    render dotted circle for incomplete combining letter of some scripts, different
+                    set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+                    <!-- U+0967: "१" DEVANAGARI DIGIT ONE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAu"
+                        latin:keyHintLabel="1"
+                        latin:additionalMoreKeys="&#x0967;,1" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
+                    <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAi"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="&#x0968;,2" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
+                    <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAa"
+                        latin:keyHintLabel="3"
+                        latin:additionalMoreKeys="&#x0969;,3" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
+                    <!-- U+096A: "४" DEVANAGARI DIGIT FOUR -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignIi"
+                        latin:keyHintLabel="4"
+                        latin:additionalMoreKeys="&#x096A;,4" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
+                    <!-- U+096B: "५" DEVANAGARI DIGIT FIVE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignUu"
+                        latin:keyHintLabel="5"
+                        latin:additionalMoreKeys="&#x096B;,5" />
+                    <!-- U+092C: "ब" DEVANAGARI LETTER BA
+                         U+092C/U+0952: "ब॒" DEVANAGARI LETTER BA/DEVANAGARI STRESS SIGN ANUDATTA
+                         U+096C: "६" DEVANAGARI DIGIT SIX -->
+                    <Key
+                        latin:keySpec="&#x092C;"
+                        latin:moreKeys="&#x092C;&#x0952;,%"
+                        latin:keyHintLabel="6"
+                        latin:additionalMoreKeys="&#x096C;,6" />
+                    <!-- U+0939: "ह" DEVANAGARI LETTER HA
+                         U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+                    <Key
+                        latin:keySpec="&#x0939;"
+                        latin:keyHintLabel="7"
+                        latin:additionalMoreKeys="&#x096D;,7" />
+                    <!-- U+0917: "ग" DEVANAGARI LETTER GA
+                         U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
+                         U+0917/U+093C: "ग़" DEVANAGARI LETTER GA/DEVANAGARI SIGN NUKTA
+                         U+0917/U+0952: "ग॒" DEVANAGARI LETTER GA/DEVANAGARI STRESS SIGN ANUDATTA
+                         U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+                    <Key
+                        latin:keySpec="&#x0917;"
+                        latin:moreKeys="&#x091C;&#x094D;&#x091E;,&#x0917;&#x093C;,&#x0917;&#x0952;,%"
+                        latin:keyHintLabel="8"
+                        latin:additionalMoreKeys="&#x096E;,8" />
+                    <!-- U+0926: "द" DEVANAGARI LETTER DA
+                         U+096F: "९" DEVANAGARI DIGIT NINE -->
+                    <Key
+                        latin:keySpec="&#x0926;"
+                        latin:keyHintLabel="9"
+                        latin:additionalMoreKeys="&#x096F;,9" />
+                    <!-- U+091C: "ज" DEVANAGARI LETTER JA
+                         U+091C/U+0952: "ज॒" DEVANAGARI LETTER JA/DEVANAGARI STRESS SIGN ANUDATTA
+                         U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
+                         U+091C/U+093C: "ज़" DEVANAGARI LETTER JA/DEVANAGARI SIGN NUKTA
+                         U+0966: "०" DEVANAGARI DIGIT ZERO -->
+                    <Key
+                        latin:keySpec="&#x091C;"
+                        latin:moreKeys="&#x091C;&#x0952;,&#x091C;&#x094D;&#x091E;,&#x091C;&#x093C;,%"
+                        latin:keyHintLabel="0"
+                        latin:additionalMoreKeys="&#x0966;,0" />
+                </default>
+            </switch>
             <!-- U+0921: "ड" DEVANAGARI LETTER DDA
                  U+0921/U+0952: "ड॒" DEVANAGARI LETTER DDA/DEVANAGARI STRESS SIGN ANUDATTA
                  U+0921/U+093C: "ड़" DEVANAGARI LETTER DDA/DEVANAGARI SIGN NUKTA -->
diff --git a/java/res/xml/rowkeys_hindi_compact1.xml b/java/res/xml/rowkeys_hindi_compact1.xml
index 06a014162..0e555a431 100644
--- a/java/res/xml/rowkeys_hindi_compact1.xml
+++ b/java/res/xml/rowkeys_hindi_compact1.xml
@@ -19,100 +19,190 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
-    <!-- U+0914: "औ" DEVANAGARI LETTER AU
-         U+0967: "१" DEVANAGARI DIGIT ONE -->
-    <Key
-        latin:keySpec="&#x0914;"
-        latin:keyStyle="moreKeysDevanagariVowelSignAu"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="&#x0967;,1" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
-    <!-- U+0910: "ऐ" DEVANAGARI LETTER AI
-         U+0968: "२" DEVANAGARI DIGIT TWO -->
-    <Key
-        latin:keySpec="&#x0910;"
-        latin:keyStyle="moreKeysDevanagariVowelSignAi"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="&#x0968;,2" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
-    <!-- U+0906: "आ" DEVANAGARI LETTER AA
-         U+0969: "३" DEVANAGARI DIGIT THREE -->
-    <Key
-        latin:keySpec="&#x0906;"
-        latin:keyStyle="moreKeysDevanagariVowelSignAa"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="&#x0969;,3" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
-    <!-- U+0908: "ई" DEVANAGARI LETTER II
-         U+096A: "४" DEVANAGARI DIGIT FOUR -->
-    <Key
-        latin:keySpec="&#x0908;"
-        latin:keyStyle="moreKeysDevanagariVowelSignIi"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="&#x096A;,4" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
-    <!-- U+090A: "ऊ" DEVANAGARI LETTER UU
-         U+096B: "५" DEVANAGARI DIGIT FIVE -->
-    <Key
-        latin:keySpec="&#x090A;"
-        latin:keyStyle="moreKeysDevanagariVowelSignUu"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="&#x096B;,5" />
-    <!-- U+092C: "ब" DEVANAGARI LETTER BA
-         U+092D: "भ" DEVANAGARI LETTER BHA
-         U+096C: "६" DEVANAGARI DIGIT SIX -->
-    <Key
-        latin:keySpec="&#x092C;"
-        latin:moreKeys="&#x092D;,%"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="&#x096C;,6" />
-    <!-- U+0939: "ह" DEVANAGARI LETTER HA
-         U+096D: "७" DEVANAGARI DIGIT SEVEN -->
-    <Key
-        latin:keySpec="&#x0939;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="&#x096D;,7" />
-    <!-- U+0917: "ग" DEVANAGARI LETTER GA
-         U+0918: "घ" DEVANAGARI LETTER GHA
-         U+096E: "८" DEVANAGARI DIGIT EIGHT -->
-    <Key
-        latin:keySpec="&#x0917;"
-        latin:moreKeys="&#x0918;,%"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="&#x096E;,8" />
-    <!-- U+0926: "द" DEVANAGARI LETTER DA
-         U+0927: "ध" DEVANAGARI LETTER DHA
-         U+096F: "९" DEVANAGARI DIGIT NINE -->
-    <Key
-        latin:keySpec="&#x0926;"
-        latin:moreKeys="&#x0927;,%"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="&#x096F;,9" />
-    <!-- U+091C: "ज" DEVANAGARI LETTER JA
-         U+091D: "झ" DEVANAGARI LETTER JHA
-         U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
-         U+0966: "०" DEVANAGARI DIGIT ZERO -->
-    <Key
-        latin:keySpec="&#x091C;"
-        latin:moreKeys="&#x091D;,&#x091C;&#x094D;&#x091E;,%"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="&#x0966;,0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+            <!-- U+0914: "औ" DEVANAGARI LETTER AU
+                 U+0967: "१" DEVANAGARI DIGIT ONE -->
+            <Key
+                latin:keySpec="&#x0914;"
+                latin:keyStyle="moreKeysDevanagariVowelSignAu"
+                latin:additionalMoreKeys="&#x0967;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
+            <!-- U+0910: "ऐ" DEVANAGARI LETTER AI
+                 U+0968: "२" DEVANAGARI DIGIT TWO -->
+            <Key
+                latin:keySpec="&#x0910;"
+                latin:keyStyle="moreKeysDevanagariVowelSignAi"
+                latin:additionalMoreKeys="&#x0968;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
+            <!-- U+0906: "आ" DEVANAGARI LETTER AA
+                 U+0969: "३" DEVANAGARI DIGIT THREE -->
+            <Key
+                latin:keySpec="&#x0906;"
+                latin:keyStyle="moreKeysDevanagariVowelSignAa"
+                latin:additionalMoreKeys="&#x0969;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
+            <!-- U+0908: "ई" DEVANAGARI LETTER II
+                 U+096A: "४" DEVANAGARI DIGIT FOUR -->
+            <Key
+                latin:keySpec="&#x0908;"
+                latin:keyStyle="moreKeysDevanagariVowelSignIi"
+                latin:additionalMoreKeys="&#x096A;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
+            <!-- U+090A: "ऊ" DEVANAGARI LETTER UU
+                 U+096B: "५" DEVANAGARI DIGIT FIVE -->
+            <Key
+                latin:keySpec="&#x090A;"
+                latin:keyStyle="moreKeysDevanagariVowelSignUu"
+                latin:additionalMoreKeys="&#x096B;" />
+            <!-- U+092C: "ब" DEVANAGARI LETTER BA
+                 U+092D: "भ" DEVANAGARI LETTER BHA
+                 U+096C: "६" DEVANAGARI DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x092C;"
+                latin:moreKeys="&#x092D;,%"
+                latin:additionalMoreKeys="&#x096C;" />
+            <!-- U+0939: "ह" DEVANAGARI LETTER HA
+                 U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0939;"
+                latin:additionalMoreKeys="&#x096D;" />
+            <!-- U+0917: "ग" DEVANAGARI LETTER GA
+                 U+0918: "घ" DEVANAGARI LETTER GHA
+                 U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+            <Key
+                latin:keySpec="&#x0917;"
+                latin:moreKeys="&#x0918;,%"
+                latin:additionalMoreKeys="&#x096E;" />
+            <!-- U+0926: "द" DEVANAGARI LETTER DA
+                 U+0927: "ध" DEVANAGARI LETTER DHA
+                 U+096F: "९" DEVANAGARI DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x0926;"
+                latin:moreKeys="&#x0927;,%"
+                latin:additionalMoreKeys="&#x096F;" />
+            <!-- U+091C: "ज" DEVANAGARI LETTER JA
+                 U+091D: "झ" DEVANAGARI LETTER JHA
+                 U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
+                 U+0966: "०" DEVANAGARI DIGIT ZERO -->
+            <Key
+                latin:keySpec="&#x091C;"
+                latin:moreKeys="&#x091D;,&#x091C;&#x094D;&#x091E;,%"
+                latin:additionalMoreKeys="&#x0966;" />
+        </case>
+        <default>
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+            <!-- U+0914: "औ" DEVANAGARI LETTER AU
+                 U+0967: "१" DEVANAGARI DIGIT ONE -->
+            <Key
+                latin:keySpec="&#x0914;"
+                latin:keyStyle="moreKeysDevanagariVowelSignAu"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="&#x0967;,1" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
+            <!-- U+0910: "ऐ" DEVANAGARI LETTER AI
+                 U+0968: "२" DEVANAGARI DIGIT TWO -->
+            <Key
+                latin:keySpec="&#x0910;"
+                latin:keyStyle="moreKeysDevanagariVowelSignAi"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="&#x0968;,2" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
+            <!-- U+0906: "आ" DEVANAGARI LETTER AA
+                 U+0969: "३" DEVANAGARI DIGIT THREE -->
+            <Key
+                latin:keySpec="&#x0906;"
+                latin:keyStyle="moreKeysDevanagariVowelSignAa"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="&#x0969;,3" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
+            <!-- U+0908: "ई" DEVANAGARI LETTER II
+                 U+096A: "४" DEVANAGARI DIGIT FOUR -->
+            <Key
+                latin:keySpec="&#x0908;"
+                latin:keyStyle="moreKeysDevanagariVowelSignIi"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="&#x096A;,4" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
+            <!-- U+090A: "ऊ" DEVANAGARI LETTER UU
+                 U+096B: "५" DEVANAGARI DIGIT FIVE -->
+            <Key
+                latin:keySpec="&#x090A;"
+                latin:keyStyle="moreKeysDevanagariVowelSignUu"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="&#x096B;,5" />
+            <!-- U+092C: "ब" DEVANAGARI LETTER BA
+                 U+092D: "भ" DEVANAGARI LETTER BHA
+                 U+096C: "६" DEVANAGARI DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x092C;"
+                latin:moreKeys="&#x092D;,%"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="&#x096C;,6" />
+            <!-- U+0939: "ह" DEVANAGARI LETTER HA
+                 U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0939;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="&#x096D;,7" />
+            <!-- U+0917: "ग" DEVANAGARI LETTER GA
+                 U+0918: "घ" DEVANAGARI LETTER GHA
+                 U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+            <Key
+                latin:keySpec="&#x0917;"
+                latin:moreKeys="&#x0918;,%"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="&#x096E;,8" />
+            <!-- U+0926: "द" DEVANAGARI LETTER DA
+                 U+0927: "ध" DEVANAGARI LETTER DHA
+                 U+096F: "९" DEVANAGARI DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x0926;"
+                latin:moreKeys="&#x0927;,%"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="&#x096F;,9" />
+            <!-- U+091C: "ज" DEVANAGARI LETTER JA
+                 U+091D: "झ" DEVANAGARI LETTER JHA
+                 U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER NYA
+                 U+0966: "०" DEVANAGARI DIGIT ZERO -->
+            <Key
+                latin:keySpec="&#x091C;"
+                latin:moreKeys="&#x091D;,&#x091C;&#x094D;&#x091E;,%"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="&#x0966;,0" />
+        </default>
+    </switch>
     <!-- U+0921: "ड" DEVANAGARI LETTER DDA
          U+0922: "ढ" DEVANAGARI LETTER DDHA -->
     <Key
diff --git a/java/res/xml/rowkeys_kannada1.xml b/java/res/xml/rowkeys_kannada1.xml
index e7aecd867..6ba683789 100644
--- a/java/res/xml/rowkeys_kannada1.xml
+++ b/java/res/xml/rowkeys_kannada1.xml
@@ -19,88 +19,154 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <!-- U+0CCC: "ೌ" KANNADA VOWEL SIGN AU
-         U+0C94: "ಔ" KANNADA LETTER AU
-         U+0CE7: "೧" KANNADA DIGIT ONE -->
-    <Key
-        latin:keySpec="&#x0CCC;"
-        latin:moreKeys="&#x0C94;,&#x0CE7;,%"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0CC8: "ೈ" KANNADA VOWEL SIGN AI
-         U+0C90: "ಐ" KANNADA LETTER AI
-         U+0CE8: "೨" KANNADA DIGIT TWO -->
-    <Key
-        latin:keySpec="&#x0CC8;"
-        latin:moreKeys="&#x0C90;,&#x0CE8;,%"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0CBE: "ಾ" KANNADA VOWEL SIGN AA
-         U+0C86: "ಆ" KANNADA LETTER AA
-         U+0CE9: "೩" KANNADA DIGIT THREE -->
-    <Key
-        latin:keySpec="&#x0CBE;"
-        latin:moreKeys="&#x0C86;,&#x0CE9;,%"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3" />
-    <!-- U+0CC0: "ೀ" KANNADA VOWEL SIGN II
-         U+0C88: "ಈ" KANNADA LETTER II
-         U+0CEA: "೪" KANNADA DIGIT FOUR -->
-    <Key
-        latin:keySpec="&#x0CC0;"
-        latin:moreKeys="&#x0C88;,&#x0CEA;,%"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+0CC2: "ೂ" KANNADA VOWEL SIGN UU
-         U+0C8A: "ಊ" KANNADA LETTER UU
-         U+0CEB: "೫" KANNADA DIGIT FIVE -->
-    <Key
-        latin:keySpec="&#x0CC2;"
-        latin:moreKeys="&#x0C8A;,&#x0CEB;,%"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+0CAC: "ಬ" KANNADA LETTER BA
-         U+0CAD: "ಭ" KANNADA LETTER BHA
-         U+0CEC: "೬" KANNADA DIGIT SIX -->
-    <Key
-        latin:keySpec="&#x0CAC;"
-        latin:moreKeys="&#x0CAD;,&#x0CEC;,%"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+0CB9: "ಹ" KANNADA LETTER HA
-         U+0C99: "ಙ" KANNADA LETTER NGA
-         U+0CED: "೭" KANNADA DIGIT SEVEN -->
-    <Key
-        latin:keySpec="&#x0CB9;"
-        latin:moreKeys="&#x0C99;,&#x0CED;,%"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+0C97: "ಗ" KANNADA LETTER GA
-         U+0C98: "ಘ" KANNADA LETTER GHA
-         U+0CEE: "೮" KANNADA DIGIT EIGHT -->
-    <Key
-        latin:keySpec="&#x0C97;"
-        latin:moreKeys="&#x0C98;,&#x0CEE;,%"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8" />
-    <!-- U+0CA6: "ದ" KANNADA LETTER DA
-         U+0CA7: "ಧ" KANNADA LETTER DHA
-         U+0CEF: "೯" KANNADA DIGIT NINE -->
-    <Key
-        latin:keySpec="&#x0CA6;"
-        latin:moreKeys="&#x0CA7;,&#x0CEF;,%"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+0C9C: "ಜ" KANNADA LETTER JA
-         U+0C9D: "ಝ" KANNADA LETTER JHA
-         U+0CE6: "೦" KANNADA DIGIT ZERO -->
-    <Key
-        latin:keySpec="&#x0C9C;"
-        latin:moreKeys="&#x0C9D;,&#x0CE6;,%"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0CCC: "ೌ" KANNADA VOWEL SIGN AU
+                 U+0C94: "ಔ" KANNADA LETTER AU
+                 U+0CE7: "೧" KANNADA DIGIT ONE -->
+            <Key
+                latin:keySpec="&#x0CCC;"
+                latin:moreKeys="&#x0C94;,&#x0CE7;,%" />
+            <!-- U+0CC8: "ೈ" KANNADA VOWEL SIGN AI
+                 U+0C90: "ಐ" KANNADA LETTER AI
+                 U+0CE8: "೨" KANNADA DIGIT TWO -->
+            <Key
+                latin:keySpec="&#x0CC8;"
+                latin:moreKeys="&#x0C90;,&#x0CE8;,%" />
+            <!-- U+0CBE: "ಾ" KANNADA VOWEL SIGN AA
+                 U+0C86: "ಆ" KANNADA LETTER AA
+                 U+0CE9: "೩" KANNADA DIGIT THREE -->
+            <Key
+                latin:keySpec="&#x0CBE;"
+                latin:moreKeys="&#x0C86;,&#x0CE9;,%" />
+            <!-- U+0CC0: "ೀ" KANNADA VOWEL SIGN II
+                 U+0C88: "ಈ" KANNADA LETTER II
+                 U+0CEA: "೪" KANNADA DIGIT FOUR -->
+            <Key
+                latin:keySpec="&#x0CC0;"
+                latin:moreKeys="&#x0C88;,&#x0CEA;,%" />
+            <!-- U+0CC2: "ೂ" KANNADA VOWEL SIGN UU
+                 U+0C8A: "ಊ" KANNADA LETTER UU
+                 U+0CEB: "೫" KANNADA DIGIT FIVE -->
+            <Key
+                latin:keySpec="&#x0CC2;"
+                latin:moreKeys="&#x0C8A;,&#x0CEB;,%" />
+            <!-- U+0CAC: "ಬ" KANNADA LETTER BA
+                 U+0CAD: "ಭ" KANNADA LETTER BHA
+                 U+0CEC: "೬" KANNADA DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x0CAC;"
+                latin:moreKeys="&#x0CAD;,&#x0CEC;,%" />
+            <!-- U+0CB9: "ಹ" KANNADA LETTER HA
+                 U+0C99: "ಙ" KANNADA LETTER NGA
+                 U+0CED: "೭" KANNADA DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0CB9;"
+                latin:moreKeys="&#x0C99;,&#x0CED;,%" />
+            <!-- U+0C97: "ಗ" KANNADA LETTER GA
+                 U+0C98: "ಘ" KANNADA LETTER GHA
+                 U+0CEE: "೮" KANNADA DIGIT EIGHT -->
+            <Key
+                latin:keySpec="&#x0C97;"
+                latin:moreKeys="&#x0C98;,&#x0CEE;,%" />
+            <!-- U+0CA6: "ದ" KANNADA LETTER DA
+                 U+0CA7: "ಧ" KANNADA LETTER DHA
+                 U+0CEF: "೯" KANNADA DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x0CA6;"
+                latin:moreKeys="&#x0CA7;,&#x0CEF;,%" />
+            <!-- U+0C9C: "ಜ" KANNADA LETTER JA
+                 U+0C9D: "ಝ" KANNADA LETTER JHA
+                 U+0CE6: "೦" KANNADA DIGIT ZERO -->
+            <Key
+                latin:keySpec="&#x0C9C;"
+                latin:moreKeys="&#x0C9D;,&#x0CE6;,%" />
+        </case>
+        <default>
+            <!-- U+0CCC: "ೌ" KANNADA VOWEL SIGN AU
+                 U+0C94: "ಔ" KANNADA LETTER AU
+                 U+0CE7: "೧" KANNADA DIGIT ONE -->
+            <Key
+                latin:keySpec="&#x0CCC;"
+                latin:moreKeys="&#x0C94;,&#x0CE7;,%"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0CC8: "ೈ" KANNADA VOWEL SIGN AI
+                 U+0C90: "ಐ" KANNADA LETTER AI
+                 U+0CE8: "೨" KANNADA DIGIT TWO -->
+            <Key
+                latin:keySpec="&#x0CC8;"
+                latin:moreKeys="&#x0C90;,&#x0CE8;,%"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0CBE: "ಾ" KANNADA VOWEL SIGN AA
+                 U+0C86: "ಆ" KANNADA LETTER AA
+                 U+0CE9: "೩" KANNADA DIGIT THREE -->
+            <Key
+                latin:keySpec="&#x0CBE;"
+                latin:moreKeys="&#x0C86;,&#x0CE9;,%"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3" />
+            <!-- U+0CC0: "ೀ" KANNADA VOWEL SIGN II
+                 U+0C88: "ಈ" KANNADA LETTER II
+                 U+0CEA: "೪" KANNADA DIGIT FOUR -->
+            <Key
+                latin:keySpec="&#x0CC0;"
+                latin:moreKeys="&#x0C88;,&#x0CEA;,%"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+0CC2: "ೂ" KANNADA VOWEL SIGN UU
+                 U+0C8A: "ಊ" KANNADA LETTER UU
+                 U+0CEB: "೫" KANNADA DIGIT FIVE -->
+            <Key
+                latin:keySpec="&#x0CC2;"
+                latin:moreKeys="&#x0C8A;,&#x0CEB;,%"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+0CAC: "ಬ" KANNADA LETTER BA
+                 U+0CAD: "ಭ" KANNADA LETTER BHA
+                 U+0CEC: "೬" KANNADA DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x0CAC;"
+                latin:moreKeys="&#x0CAD;,&#x0CEC;,%"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+0CB9: "ಹ" KANNADA LETTER HA
+                 U+0C99: "ಙ" KANNADA LETTER NGA
+                 U+0CED: "೭" KANNADA DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0CB9;"
+                latin:moreKeys="&#x0C99;,&#x0CED;,%"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+0C97: "ಗ" KANNADA LETTER GA
+                 U+0C98: "ಘ" KANNADA LETTER GHA
+                 U+0CEE: "೮" KANNADA DIGIT EIGHT -->
+            <Key
+                latin:keySpec="&#x0C97;"
+                latin:moreKeys="&#x0C98;,&#x0CEE;,%"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8" />
+            <!-- U+0CA6: "ದ" KANNADA LETTER DA
+                 U+0CA7: "ಧ" KANNADA LETTER DHA
+                 U+0CEF: "೯" KANNADA DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x0CA6;"
+                latin:moreKeys="&#x0CA7;,&#x0CEF;,%"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+0C9C: "ಜ" KANNADA LETTER JA
+                 U+0C9D: "ಝ" KANNADA LETTER JHA
+                 U+0CE6: "೦" KANNADA DIGIT ZERO -->
+            <Key
+                latin:keySpec="&#x0C9C;"
+                latin:moreKeys="&#x0C9D;,&#x0CE6;,%"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0CA1: "ಡ" KANNADA LETTER DDA
-         U+0CA2: "ಢ" KANNADA LETTER DDHA -->
+     U+0CA2: "ಢ" KANNADA LETTER DDHA -->
     <Key
         latin:keySpec="&#x0CA1;"
         latin:moreKeys="&#x0CA2;" />
diff --git a/java/res/xml/rowkeys_malayalam1.xml b/java/res/xml/rowkeys_malayalam1.xml
index 79d96cbb7..5e573ce60 100644
--- a/java/res/xml/rowkeys_malayalam1.xml
+++ b/java/res/xml/rowkeys_malayalam1.xml
@@ -19,78 +19,136 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin" >
-    <!-- U+0D4D: "്" MALAYALAM SIGN VIRAMA
-         U+0D05: "അ" MALAYALAM LETTER A -->
-    <Key
-        latin:keySpec="&#x0D4D;"
-        latin:moreKeys="&#x0D05;,%"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0D3E: "ാ" MALAYALAM VOWEL SIGN AA
-         U+0D06: "ആ" MALAYALAM LETTER AA -->
-    <Key
-        latin:keySpec="&#x0D3E;"
-        latin:moreKeys="&#x0D06;,%"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0D3F: "ി" MALAYALAM VOWEL SIGN I
-         U+0D07: "ഇ" MALAYALAM LETTER I -->
-    <Key
-        latin:keySpec="&#x0D3F;"
-        latin:moreKeys="&#x0D07;,%"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3" />
-    <!-- U+0D40: "ീ" MALAYALAM VOWEL SIGN II
-         U+0D08: "ഈ" MALAYALAM LETTER II -->
-    <Key
-        latin:keySpec="&#x0D40;"
-        latin:moreKeys="&#x0D08;,%"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+0D41: "ു" MALAYALAM VOWEL SIGN U
-         U+0D09: "ഉ" MALAYALAM LETTER U -->
-    <Key
-        latin:keySpec="&#x0D41;"
-        latin:moreKeys="&#x0D09;,%"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+0D42: "ൂ" MALAYALAM VOWEL SIGN UU
-         U+0D0A: "ഊ" MALAYALAM LETTER UU -->
-    <Key
-        latin:keySpec="&#x0D42;"
-        latin:moreKeys="&#x0D0A;,%"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+0D43: "ൃ" MALAYALAM VOWEL SIGN VOCALIC R
-         U+0D0B: "ഋ" MALAYALAM LETTER VOCALIC R -->
-    <Key
-        latin:keySpec="&#x0D43;"
-        latin:moreKeys="&#x0D0B;,%"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+0D46: "െ" MALAYALAM VOWEL SIGN E
-         U+0D0E: "എ" MALAYALAM LETTER E
-         U+0D10: "ഐ" MALAYALAM LETTER AI
-         U+0D48: "ൈ" MALAYALAM VOWEL SIGN AI -->
-    <Key
-        latin:keySpec="&#x0D46;"
-        latin:moreKeys="&#x0D0E;,&#x0D10;,&#x0D48;,%"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8" />
-    <!-- U+0D47: "േ" MALAYALAM VOWEL SIGN EE
-         U+0D0F: "ഏ" MALAYALAM LETTER EE -->
-    <Key
-        latin:keySpec="&#x0D47;"
-        latin:moreKeys="&#x0D0F;,%"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+0D4A: "ൊ" MALAYALAM VOWEL SIGN O
-         U+0D12: "ഒ" MALAYALAM LETTER O -->
-    <Key
-        latin:keySpec="&#x0D4A;"
-        latin:moreKeys="&#x0D12;,%"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0D4D: "്" MALAYALAM SIGN VIRAMA
+                 U+0D05: "അ" MALAYALAM LETTER A -->
+            <Key
+                latin:keySpec="&#x0D4D;"
+                latin:moreKeys="&#x0D05;,%" />
+            <!-- U+0D3E: "ാ" MALAYALAM VOWEL SIGN AA
+                 U+0D06: "ആ" MALAYALAM LETTER AA -->
+            <Key
+                latin:keySpec="&#x0D3E;"
+                latin:moreKeys="&#x0D06;,%" />
+            <!-- U+0D3F: "ി" MALAYALAM VOWEL SIGN I
+                 U+0D07: "ഇ" MALAYALAM LETTER I -->
+            <Key
+                latin:keySpec="&#x0D3F;"
+                latin:moreKeys="&#x0D07;,%" />
+            <!-- U+0D40: "ീ" MALAYALAM VOWEL SIGN II
+                 U+0D08: "ഈ" MALAYALAM LETTER II -->
+            <Key
+                latin:keySpec="&#x0D40;"
+                latin:moreKeys="&#x0D08;,%" />
+            <!-- U+0D41: "ു" MALAYALAM VOWEL SIGN U
+                 U+0D09: "ഉ" MALAYALAM LETTER U -->
+            <Key
+                latin:keySpec="&#x0D41;"
+                latin:moreKeys="&#x0D09;,%" />
+            <!-- U+0D42: "ൂ" MALAYALAM VOWEL SIGN UU
+                 U+0D0A: "ഊ" MALAYALAM LETTER UU -->
+            <Key
+                latin:keySpec="&#x0D42;"
+                latin:moreKeys="&#x0D0A;,%" />
+            <!-- U+0D43: "ൃ" MALAYALAM VOWEL SIGN VOCALIC R
+                 U+0D0B: "ഋ" MALAYALAM LETTER VOCALIC R -->
+            <Key
+                latin:keySpec="&#x0D43;"
+                latin:moreKeys="&#x0D0B;,%" />
+            <!-- U+0D46: "െ" MALAYALAM VOWEL SIGN E
+                 U+0D0E: "എ" MALAYALAM LETTER E
+                 U+0D10: "ഐ" MALAYALAM LETTER AI
+                 U+0D48: "ൈ" MALAYALAM VOWEL SIGN AI -->
+            <Key
+                latin:keySpec="&#x0D46;"
+                latin:moreKeys="&#x0D0E;,&#x0D10;,&#x0D48;,%" />
+            <!-- U+0D47: "േ" MALAYALAM VOWEL SIGN EE
+                 U+0D0F: "ഏ" MALAYALAM LETTER EE -->
+            <Key
+                latin:keySpec="&#x0D47;"
+                latin:moreKeys="&#x0D0F;,%" />
+            <!-- U+0D4A: "ൊ" MALAYALAM VOWEL SIGN O
+                 U+0D12: "ഒ" MALAYALAM LETTER O -->
+            <Key
+                latin:keySpec="&#x0D4A;"
+                latin:moreKeys="&#x0D12;,%" />
+        </case>
+        <default>
+            <!-- U+0D4D: "്" MALAYALAM SIGN VIRAMA
+                 U+0D05: "അ" MALAYALAM LETTER A -->
+            <Key
+                latin:keySpec="&#x0D4D;"
+                latin:moreKeys="&#x0D05;,%"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0D3E: "ാ" MALAYALAM VOWEL SIGN AA
+                 U+0D06: "ആ" MALAYALAM LETTER AA -->
+            <Key
+                latin:keySpec="&#x0D3E;"
+                latin:moreKeys="&#x0D06;,%"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0D3F: "ി" MALAYALAM VOWEL SIGN I
+                 U+0D07: "ഇ" MALAYALAM LETTER I -->
+            <Key
+                latin:keySpec="&#x0D3F;"
+                latin:moreKeys="&#x0D07;,%"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3" />
+            <!-- U+0D40: "ീ" MALAYALAM VOWEL SIGN II
+                 U+0D08: "ഈ" MALAYALAM LETTER II -->
+            <Key
+                latin:keySpec="&#x0D40;"
+                latin:moreKeys="&#x0D08;,%"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+0D41: "ു" MALAYALAM VOWEL SIGN U
+                 U+0D09: "ഉ" MALAYALAM LETTER U -->
+            <Key
+                latin:keySpec="&#x0D41;"
+                latin:moreKeys="&#x0D09;,%"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+0D42: "ൂ" MALAYALAM VOWEL SIGN UU
+                 U+0D0A: "ഊ" MALAYALAM LETTER UU -->
+            <Key
+                latin:keySpec="&#x0D42;"
+                latin:moreKeys="&#x0D0A;,%"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+0D43: "ൃ" MALAYALAM VOWEL SIGN VOCALIC R
+                 U+0D0B: "ഋ" MALAYALAM LETTER VOCALIC R -->
+            <Key
+                latin:keySpec="&#x0D43;"
+                latin:moreKeys="&#x0D0B;,%"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+0D46: "െ" MALAYALAM VOWEL SIGN E
+                 U+0D0E: "എ" MALAYALAM LETTER E
+                 U+0D10: "ഐ" MALAYALAM LETTER AI
+                 U+0D48: "ൈ" MALAYALAM VOWEL SIGN AI -->
+            <Key
+                latin:keySpec="&#x0D46;"
+                latin:moreKeys="&#x0D0E;,&#x0D10;,&#x0D48;,%"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8" />
+            <!-- U+0D47: "േ" MALAYALAM VOWEL SIGN EE
+                 U+0D0F: "ഏ" MALAYALAM LETTER EE -->
+            <Key
+                latin:keySpec="&#x0D47;"
+                latin:moreKeys="&#x0D0F;,%"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+0D4A: "ൊ" MALAYALAM VOWEL SIGN O
+                 U+0D12: "ഒ" MALAYALAM LETTER O -->
+            <Key
+                latin:keySpec="&#x0D4A;"
+                latin:moreKeys="&#x0D12;,%"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0D4B: "ോ" MALAYALAM VOWEL SIGN OO
          U+0D13: "ഓ" MALAYALAM LETTER OO
          U+0D14: "ഔ" MALAYALAM LETTER AU
diff --git a/java/res/xml/rowkeys_marathi1.xml b/java/res/xml/rowkeys_marathi1.xml
index 596664bc6..88bf17643 100644
--- a/java/res/xml/rowkeys_marathi1.xml
+++ b/java/res/xml/rowkeys_marathi1.xml
@@ -19,89 +19,168 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
-    <!-- U+0967: "१" DEVANAGARI DIGIT ONE -->
-    <Key
-        latin:keyStyle="baseKeyDevanagariVowelSignAu"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="&#x0967;,1" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
-    <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
-    <Key
-        latin:keyStyle="baseKeyDevanagariVowelSignAi"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="&#x0968;,2" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
-    <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
-    <Key
-        latin:keyStyle="baseKeyDevanagariVowelSignAa"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="&#x0969;,3" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
-    <!-- U+096A: "४" DEVANAGARI DIGIT FOUR -->
-    <Key
-        latin:keyStyle="baseKeyDevanagariVowelSignIi"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="&#x096A;,4" />
-    <!-- Because the font rendering system prior to API version 16 can't automatically
-         render dotted circle for incomplete combining letter of some scripts, different
-         set of Key definitions are needed based on the API version. -->
-    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
-    <!-- U+096B: "५" DEVANAGARI DIGIT FIVE -->
-    <Key
-        latin:keyStyle="baseKeyDevanagariVowelSignUu"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="&#x096B;,5" />
-    <!-- U+092C: "ब" DEVANAGARI LETTER BA
-         U+092D: "भ" DEVANAGARI LETTER BHA
-         U+096C: "६" DEVANAGARI DIGIT SIX -->
-    <Key
-        latin:keySpec="&#x092C;"
-        latin:moreKeys="&#x092D;,%"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="&#x096C;,6" />
-    <!-- U+0939: "ह" DEVANAGARI LETTER HA
-         U+096D: "७" DEVANAGARI DIGIT SEVEN -->
-    <Key
-        latin:keySpec="&#x0939;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="&#x096D;,7" />
-    <!-- U+0917: "ग" DEVANAGARI LETTER GA
-         U+0918: "घ" DEVANAGARI LETTER GHA
-         U+096E: "८" DEVANAGARI DIGIT EIGHT -->
-    <Key
-        latin:keySpec="&#x0917;"
-        latin:moreKeys="&#x0918;,%"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="&#x096E;,8" />
-    <!-- U+0926: "द" DEVANAGARI LETTER DA
-         U+0927: "ध" DEVANAGARI LETTER DHA
-         U+096F: "९" DEVANAGARI DIGIT NINE -->
-    <Key
-        latin:keySpec="&#x0926;"
-        latin:moreKeys="&#x0927;,%"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="&#x096F;,9" />
-    <!-- U+091C: "ज" DEVANAGARI LETTER JA
-         U+091D: "झ" DEVANAGARI LETTER JHA
-         U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER JHA -->
-    <Key
-        latin:keySpec="&#x091C;"
-        latin:moreKeys="&#x091D;,&#x091C;&#x094D;&#x091E;,%"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="&#x0966;,0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+            <!-- U+0967: "१" DEVANAGARI DIGIT ONE -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignAu"
+                latin:additionalMoreKeys="&#x0967;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
+            <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignAi"
+                latin:additionalMoreKeys="&#x0968;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
+            <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignAa"
+                latin:additionalMoreKeys="&#x0969;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
+            <!-- U+096A: "४" DEVANAGARI DIGIT FOUR -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignIi"
+                latin:additionalMoreKeys="&#x096A;" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
+            <!-- U+096B: "५" DEVANAGARI DIGIT FIVE -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignUu"
+                latin:additionalMoreKeys="&#x096B;" />
+            <!-- U+092C: "ब" DEVANAGARI LETTER BA
+                 U+092D: "भ" DEVANAGARI LETTER BHA
+                 U+096C: "६" DEVANAGARI DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x092C;"
+                latin:moreKeys="&#x092D;,%"
+                latin:additionalMoreKeys="&#x096C;" />
+            <!-- U+0939: "ह" DEVANAGARI LETTER HA
+                 U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0939;"
+                latin:additionalMoreKeys="&#x096D;" />
+            <!-- U+0917: "ग" DEVANAGARI LETTER GA
+                 U+0918: "घ" DEVANAGARI LETTER GHA
+                 U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+            <Key
+                latin:keySpec="&#x0917;"
+                latin:moreKeys="&#x0918;,%"
+                latin:additionalMoreKeys="&#x096E;" />
+            <!-- U+0926: "द" DEVANAGARI LETTER DA
+                 U+0927: "ध" DEVANAGARI LETTER DHA
+                 U+096F: "९" DEVANAGARI DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x0926;"
+                latin:moreKeys="&#x0927;,%"
+                latin:additionalMoreKeys="&#x096F;" />
+            <!-- U+091C: "ज" DEVANAGARI LETTER JA
+                 U+091D: "झ" DEVANAGARI LETTER JHA
+                 U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER JHA -->
+            <Key
+                latin:keySpec="&#x091C;"
+                latin:moreKeys="&#x091D;,&#x091C;&#x094D;&#x091E;,%"
+                latin:additionalMoreKeys="&#x0966;" />
+        </case>
+        <default>
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+            <!-- U+0967: "१" DEVANAGARI DIGIT ONE -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignAu"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="&#x0967;,1" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ai" />
+            <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignAi"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="&#x0968;,2" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_aa" />
+            <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignAa"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="&#x0969;,3" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_ii" />
+            <!-- U+096A: "४" DEVANAGARI DIGIT FOUR -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignIi"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="&#x096A;,4" />
+            <!-- Because the font rendering system prior to API version 16 can't automatically
+                 render dotted circle for incomplete combining letter of some scripts, different
+                 set of Key definitions are needed based on the API version. -->
+            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_uu" />
+            <!-- U+096B: "५" DEVANAGARI DIGIT FIVE -->
+            <Key
+                latin:keyStyle="baseKeyDevanagariVowelSignUu"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="&#x096B;,5" />
+            <!-- U+092C: "ब" DEVANAGARI LETTER BA
+                 U+092D: "भ" DEVANAGARI LETTER BHA
+                 U+096C: "६" DEVANAGARI DIGIT SIX -->
+            <Key
+                latin:keySpec="&#x092C;"
+                latin:moreKeys="&#x092D;,%"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="&#x096C;,6" />
+            <!-- U+0939: "ह" DEVANAGARI LETTER HA
+                 U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+            <Key
+                latin:keySpec="&#x0939;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="&#x096D;,7" />
+            <!-- U+0917: "ग" DEVANAGARI LETTER GA
+                 U+0918: "घ" DEVANAGARI LETTER GHA
+                 U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+            <Key
+                latin:keySpec="&#x0917;"
+                latin:moreKeys="&#x0918;,%"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="&#x096E;,8" />
+            <!-- U+0926: "द" DEVANAGARI LETTER DA
+                 U+0927: "ध" DEVANAGARI LETTER DHA
+                 U+096F: "९" DEVANAGARI DIGIT NINE -->
+            <Key
+                latin:keySpec="&#x0926;"
+                latin:moreKeys="&#x0927;,%"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="&#x096F;,9" />
+            <!-- U+091C: "ज" DEVANAGARI LETTER JA
+                 U+091D: "झ" DEVANAGARI LETTER JHA
+                 U+091C/U+094D/U+091E: "ज्ञ" DEVANAGARI LETTER JA/DEVANAGARI SIGN VIRAMA/DEVANAGARI LETTER JHA -->
+            <Key
+                latin:keySpec="&#x091C;"
+                latin:moreKeys="&#x091D;,&#x091C;&#x094D;&#x091E;,%"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="&#x0966;,0" />
+        </default>
+    </switch>
     <!-- U+0921: "ड" DEVANAGARI LETTER DDA
          U+0922: "ढ" DEVANAGARI LETTER DDHA -->
     <Key
diff --git a/java/res/xml/rowkeys_mongolian1.xml b/java/res/xml/rowkeys_mongolian1.xml
index 2bd8097e2..70a4a7af9 100644
--- a/java/res/xml/rowkeys_mongolian1.xml
+++ b/java/res/xml/rowkeys_mongolian1.xml
@@ -21,62 +21,104 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <!-- U+0444: "ф" CYRILLIC SMALL LETTER EF -->
-    <Key
-        latin:keySpec="&#x0444;"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
-    <Key
-        latin:keySpec="&#x0446;"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
-    <Key
-        latin:keySpec="&#x0443;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3"
-        latin:moreKeys="!text/morekeys_cyrillic_u" />
-    <!-- U+0436: "ж" CYRILLIC SMALL LETTER ZHE -->
-    <Key
-        latin:keySpec="&#x0436;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+044D: "э" CYRILLIC SMALL LETTER E -->
-    <Key
-        latin:keySpec="&#x044D;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5"
-        latin:moreKeys="!text/morekeys_cyrillic_ie" />
-    <!-- U+043D: "н" CYRILLIC SMALL LETTER EN -->
-    <Key
-        latin:keySpec="&#x043D;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6"
-        latin:moreKeys="!text/morekeys_cyrillic_en" />
-    <!-- U+0433: "г" CYRILLIC SMALL LETTER GHE -->
-    <Key
-        latin:keySpec="&#x0433;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7"
-        latin:moreKeys="!text/morekeys_cyrillic_ghe" />
-    <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA
-         U+0449: "щ" CYRILLIC SMALL LETTER SHCHA -->
-    <Key
-        latin:keySpec="&#x0448;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8"
-        latin:moreKeys="&#x0449;" />
-    <!-- U+04AF: "ү" CYRILLIC SMALL LETTER STRAIGHT U -->
-    <Key
-        latin:keySpec="&#x04AF;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
-    <Key
-        latin:keySpec="&#x0437;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0444: "ф" CYRILLIC SMALL LETTER EF -->
+            <Key
+                latin:keySpec="&#x0444;" />
+            <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
+            <Key
+                latin:keySpec="&#x0446;" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;"
+                latin:moreKeys="!text/morekeys_cyrillic_u" />
+            <!-- U+0436: "ж" CYRILLIC SMALL LETTER ZHE -->
+            <Key
+                latin:keySpec="&#x0436;" />
+            <!-- U+044D: "э" CYRILLIC SMALL LETTER E -->
+            <Key
+                latin:keySpec="&#x044D;"
+                latin:moreKeys="!text/morekeys_cyrillic_ie" />
+            <!-- U+043D: "н" CYRILLIC SMALL LETTER EN -->
+            <Key
+                latin:keySpec="&#x043D;"
+                latin:moreKeys="!text/morekeys_cyrillic_en" />
+            <!-- U+0433: "г" CYRILLIC SMALL LETTER GHE -->
+            <Key
+                latin:keySpec="&#x0433;"
+                latin:moreKeys="!text/morekeys_cyrillic_ghe" />
+            <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA
+                 U+0449: "щ" CYRILLIC SMALL LETTER SHCHA -->
+            <Key
+                latin:keySpec="&#x0448;"
+                latin:moreKeys="&#x0449;" />
+            <!-- U+04AF: "ү" CYRILLIC SMALL LETTER STRAIGHT U -->
+            <Key
+                latin:keySpec="&#x04AF;" />
+            <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
+            <Key
+                latin:keySpec="&#x0437;" />
+        </case>
+        <default>
+            <!-- U+0444: "ф" CYRILLIC SMALL LETTER EF -->
+            <Key
+                latin:keySpec="&#x0444;"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0446: "ц" CYRILLIC SMALL LETTER TSE -->
+            <Key
+                latin:keySpec="&#x0446;"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3"
+                latin:moreKeys="!text/morekeys_cyrillic_u" />
+            <!-- U+0436: "ж" CYRILLIC SMALL LETTER ZHE -->
+            <Key
+                latin:keySpec="&#x0436;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+044D: "э" CYRILLIC SMALL LETTER E -->
+            <Key
+                latin:keySpec="&#x044D;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5"
+                latin:moreKeys="!text/morekeys_cyrillic_ie" />
+            <!-- U+043D: "н" CYRILLIC SMALL LETTER EN -->
+            <Key
+                latin:keySpec="&#x043D;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6"
+                latin:moreKeys="!text/morekeys_cyrillic_en" />
+            <!-- U+0433: "г" CYRILLIC SMALL LETTER GHE -->
+            <Key
+                latin:keySpec="&#x0433;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7"
+                latin:moreKeys="!text/morekeys_cyrillic_ghe" />
+            <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA
+                 U+0449: "щ" CYRILLIC SMALL LETTER SHCHA -->
+            <Key
+                latin:keySpec="&#x0448;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8"
+                latin:moreKeys="&#x0449;" />
+            <!-- U+04AF: "ү" CYRILLIC SMALL LETTER STRAIGHT U -->
+            <Key
+                latin:keySpec="&#x04AF;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+0437: "з" CYRILLIC SMALL LETTER ZE -->
+            <Key
+                latin:keySpec="&#x0437;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+043A: "к" CYRILLIC SMALL LETTER KA -->
     <Key
         latin:keySpec="&#x043A;" />
diff --git a/java/res/xml/rowkeys_nepali_romanized1.xml b/java/res/xml/rowkeys_nepali_romanized1.xml
index 67be51bb0..b7bf39d74 100644
--- a/java/res/xml/rowkeys_nepali_romanized1.xml
+++ b/java/res/xml/rowkeys_nepali_romanized1.xml
@@ -57,86 +57,162 @@
             <Key latin:keySpec="&#x0908;" />
         </case>
         <default>
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_sign_nukta" />
-            <!-- U+091F: "ट" DEVANAGARI LETTER TTA
-                 U+0967: "१" DEVANAGARI DIGIT ONE -->
-            <Key
-                latin:keySpec="&#x091F;"
-                latin:keyHintLabel="1"
-                latin:additionalMoreKeys="&#x0967;,1"
-                latin:keyStyle="moreKeysDevanagariSignNukta" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
-            <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignAu"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="&#x0968;,2" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_e" />
-            <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignE"
-                latin:keyHintLabel="3"
-                latin:additionalMoreKeys="&#x0969;,3" />
-            <!-- U+0930: "र" DEVANAGARI LETTER RA
-                 U+096A: "४" DEVANAGARI DIGIT FOUR -->
-            <Key
-                latin:keySpec="&#x0930;"
-                latin:keyHintLabel="4"
-                latin:additionalMoreKeys="&#x096A;,4" />
-            <!-- U+0924: "त" DEVANAGARI LETTER TA
-                 U+096B: "५" DEVANAGARI DIGIT FIVE -->
-            <Key
-                latin:keySpec="&#x0924;"
-                latin:keyHintLabel="5"
-                latin:additionalMoreKeys="&#x096B;,5" />
-            <!-- U+092F: "य" DEVANAGARI LETTER YA
-                 U+096C: "६" DEVANAGARI DIGIT SIX -->
-            <Key
-                latin:keySpec="&#x092F;"
-                latin:keyHintLabel="6"
-                latin:additionalMoreKeys="&#x096C;,6" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_u" />
-            <!-- U+096D: "७" DEVANAGARI DIGIT SEVEN -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignU"
-                latin:keyHintLabel="7"
-                latin:additionalMoreKeys="&#x096D;,7" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_i" />
-            <!-- U+096E: "८" DEVANAGARI DIGIT EIGHT -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignI"
-                latin:keyHintLabel="8"
-                latin:additionalMoreKeys="&#x096E;,8" />
-            <!-- Because the font rendering system prior to API version 16 can't automatically
-                 render dotted circle for incomplete combining letter of some scripts, different
-                 set of Key definitions are needed based on the API version. -->
-            <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_o" />
-            <!-- U+096F: "९" DEVANAGARI DIGIT NINE -->
-            <Key
-                latin:keyStyle="baseKeyDevanagariVowelSignO"
-                latin:keyHintLabel="9"
-                latin:additionalMoreKeys="&#x096F;,9" />
-            <!-- U+092A: "प" DEVANAGARI LETTER PA
-                 U+0966: "०" DEVANAGARI DIGIT ZERO -->
-            <Key
-                latin:keySpec="&#x092A;"
-                latin:keyHintLabel="0"
-                latin:additionalMoreKeys="&#x0966;,0" />
+            <switch>
+                <case latin:showNumberRow="true">
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_sign_nukta" />
+                    <!-- U+091F: "ट" DEVANAGARI LETTER TTA
+                         U+0967: "१" DEVANAGARI DIGIT ONE -->
+                    <Key
+                        latin:keySpec="&#x091F;"
+                        latin:additionalMoreKeys="&#x0967;"
+                        latin:keyStyle="moreKeysDevanagariSignNukta" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+                    <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAu"
+                        latin:additionalMoreKeys="&#x0968;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_e" />
+                    <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignE"
+                        latin:additionalMoreKeys="&#x0969;" />
+                    <!-- U+0930: "र" DEVANAGARI LETTER RA
+                         U+096A: "४" DEVANAGARI DIGIT FOUR -->
+                    <Key
+                        latin:keySpec="&#x0930;"
+                        latin:additionalMoreKeys="&#x096A;" />
+                    <!-- U+0924: "त" DEVANAGARI LETTER TA
+                         U+096B: "५" DEVANAGARI DIGIT FIVE -->
+                    <Key
+                        latin:keySpec="&#x0924;"
+                        latin:additionalMoreKeys="&#x096B;" />
+                    <!-- U+092F: "य" DEVANAGARI LETTER YA
+                         U+096C: "६" DEVANAGARI DIGIT SIX -->
+                    <Key
+                        latin:keySpec="&#x092F;"
+                        latin:additionalMoreKeys="&#x096C;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_u" />
+                    <!-- U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignU"
+                        latin:additionalMoreKeys="&#x096D;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_i" />
+                    <!-- U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignI"
+                        latin:additionalMoreKeys="&#x096E;" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_o" />
+                    <!-- U+096F: "९" DEVANAGARI DIGIT NINE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignO"
+                        latin:additionalMoreKeys="&#x096F;" />
+                    <!-- U+092A: "प" DEVANAGARI LETTER PA
+                         U+0966: "०" DEVANAGARI DIGIT ZERO -->
+                    <Key
+                        latin:keySpec="&#x092A;"
+                        latin:additionalMoreKeys="&#x0966;" />
+                </case>
+                <default>
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                     render dotted circle for incomplete combining letter of some scripts, different
+                     set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_sign_nukta" />
+                    <!-- U+091F: "ट" DEVANAGARI LETTER TTA
+                         U+0967: "१" DEVANAGARI DIGIT ONE -->
+                    <Key
+                        latin:keySpec="&#x091F;"
+                        latin:keyHintLabel="1"
+                        latin:additionalMoreKeys="&#x0967;,1"
+                        latin:keyStyle="moreKeysDevanagariSignNukta" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_au" />
+                    <!-- U+0968: "२" DEVANAGARI DIGIT TWO -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignAu"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="&#x0968;,2" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_e" />
+                    <!-- U+0969: "३" DEVANAGARI DIGIT THREE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignE"
+                        latin:keyHintLabel="3"
+                        latin:additionalMoreKeys="&#x0969;,3" />
+                    <!-- U+0930: "र" DEVANAGARI LETTER RA
+                         U+096A: "४" DEVANAGARI DIGIT FOUR -->
+                    <Key
+                        latin:keySpec="&#x0930;"
+                        latin:keyHintLabel="4"
+                        latin:additionalMoreKeys="&#x096A;,4" />
+                    <!-- U+0924: "त" DEVANAGARI LETTER TA
+                         U+096B: "५" DEVANAGARI DIGIT FIVE -->
+                    <Key
+                        latin:keySpec="&#x0924;"
+                        latin:keyHintLabel="5"
+                        latin:additionalMoreKeys="&#x096B;,5" />
+                    <!-- U+092F: "य" DEVANAGARI LETTER YA
+                         U+096C: "६" DEVANAGARI DIGIT SIX -->
+                    <Key
+                        latin:keySpec="&#x092F;"
+                        latin:keyHintLabel="6"
+                        latin:additionalMoreKeys="&#x096C;,6" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_u" />
+                    <!-- U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignU"
+                        latin:keyHintLabel="7"
+                        latin:additionalMoreKeys="&#x096D;,7" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_i" />
+                    <!-- U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignI"
+                        latin:keyHintLabel="8"
+                        latin:additionalMoreKeys="&#x096E;,8" />
+                    <!-- Because the font rendering system prior to API version 16 can't automatically
+                         render dotted circle for incomplete combining letter of some scripts, different
+                         set of Key definitions are needed based on the API version. -->
+                    <include latin:keyboardLayout="@xml/keystyle_devanagari_vowel_sign_o" />
+                    <!-- U+096F: "९" DEVANAGARI DIGIT NINE -->
+                    <Key
+                        latin:keyStyle="baseKeyDevanagariVowelSignO"
+                        latin:keyHintLabel="9"
+                        latin:additionalMoreKeys="&#x096F;,9" />
+                    <!-- U+092A: "प" DEVANAGARI LETTER PA
+                         U+0966: "०" DEVANAGARI DIGIT ZERO -->
+                    <Key
+                        latin:keySpec="&#x092A;"
+                        latin:keyHintLabel="0"
+                        latin:additionalMoreKeys="&#x0966;,0" />
+                </default>
+            </switch>
             <!-- U+0907: "इ" DEVANAGARI LETTER I -->
             <Key latin:keySpec="&#x0907;" />
         </default>
diff --git a/java/res/xml/rowkeys_nepali_traditional1.xml b/java/res/xml/rowkeys_nepali_traditional1.xml
index 73b2275ef..b0ecde306 100644
--- a/java/res/xml/rowkeys_nepali_traditional1.xml
+++ b/java/res/xml/rowkeys_nepali_traditional1.xml
@@ -86,66 +86,122 @@
             <Key latin:keyStyle="baseKeyDevanagariVowelSignVocalicR" />
         </case>
         <default>
-            <!-- U+091F: "ट" DEVANAGARI LETTER TTA
-                 U+0967: "१" DEVANAGARI DIGIT ONE -->
-            <Key
-                latin:keySpec="&#x091F;"
-                latin:keyHintLabel="1"
-                latin:additionalMoreKeys="&#x0967;,1" />
-            <!-- U+0927: "ध" DEVANAGARI LETTER DHA
-                 U+0968: "२" DEVANAGARI DIGIT TWO -->
-            <Key
-                latin:keySpec="&#x0927;"
-                latin:keyHintLabel="2"
-                latin:additionalMoreKeys="&#x0968;,2" />
-            <!-- U+092D: "भ" DEVANAGARI LETTER BHA
-                 U+0969: "३" DEVANAGARI DIGIT THREE -->
-            <Key
-                latin:keySpec="&#x092D;"
-                latin:keyHintLabel="3"
-                latin:additionalMoreKeys="&#x0969;,3" />
-            <!-- U+091A: "च" DEVANAGARI LETTER CA
-                 U+096A: "४" DEVANAGARI DIGIT FOUR -->
-            <Key
-                latin:keySpec="&#x091A;"
-                latin:keyHintLabel="4"
-                latin:additionalMoreKeys="&#x096A;,4" />
-            <!-- U+0924: "त" DEVANAGARI LETTER TA
-                 U+096B: "५" DEVANAGARI DIGIT FIVE -->
-            <Key
-                latin:keySpec="&#x0924;"
-                latin:keyHintLabel="5"
-                latin:additionalMoreKeys="&#x096B;,5" />
-            <!-- U+0925: "थ" DEVANAGARI LETTER THA
-                 U+096C: "६" DEVANAGARI DIGIT SIX -->
-            <Key
-                latin:keySpec="&#x0925;"
-                latin:keyHintLabel="6"
-                latin:additionalMoreKeys="&#x096C;,6" />
-            <!-- U+0917: "ग" DEVANAGARI LETTER G
-                 U+096D: "७" DEVANAGARI DIGIT SEVEN -->
-            <Key
-                latin:keySpec="&#x0917;"
-                latin:keyHintLabel="7"
-                latin:additionalMoreKeys="&#x096D;,7" />
-            <!-- U+0937: "ष" DEVANAGARI LETTER SSA
-                 U+096E: "८" DEVANAGARI DIGIT EIGHT -->
-            <Key
-                latin:keySpec="&#x0937;"
-                latin:keyHintLabel="8"
-                latin:additionalMoreKeys="&#x096E;,8" />
-            <!-- U+092F: "य" DEVANAGARI LETTER YA
-                 U+096F: "९" DEVANAGARI DIGIT NINE -->
-            <Key
-                latin:keySpec="&#x092F;"
-                latin:keyHintLabel="9"
-                latin:additionalMoreKeys="&#x096F;,9" />
-            <!-- U+0909: "उ" DEVANAGARI LETTER U
-                 U+0966: "०" DEVANAGARI DIGIT ZERO -->
-            <Key
-                latin:keySpec="&#x0909;"
-                latin:keyHintLabel="0"
-                latin:additionalMoreKeys="&#x0966;,0" />
+            <switch>
+                <case latin:showNumberRow="true">
+                    <!-- U+091F: "ट" DEVANAGARI LETTER TTA
+                         U+0967: "१" DEVANAGARI DIGIT ONE -->
+                    <Key
+                        latin:keySpec="&#x091F;"
+                        latin:additionalMoreKeys="&#x0967;" />
+                    <!-- U+0927: "ध" DEVANAGARI LETTER DHA
+                         U+0968: "२" DEVANAGARI DIGIT TWO -->
+                    <Key
+                        latin:keySpec="&#x0927;"
+                        latin:additionalMoreKeys="&#x0968;" />
+                    <!-- U+092D: "भ" DEVANAGARI LETTER BHA
+                         U+0969: "३" DEVANAGARI DIGIT THREE -->
+                    <Key
+                        latin:keySpec="&#x092D;"
+                        latin:additionalMoreKeys="&#x0969;" />
+                    <!-- U+091A: "च" DEVANAGARI LETTER CA
+                         U+096A: "४" DEVANAGARI DIGIT FOUR -->
+                    <Key
+                        latin:keySpec="&#x091A;"
+                        latin:additionalMoreKeys="&#x096A;" />
+                    <!-- U+0924: "त" DEVANAGARI LETTER TA
+                         U+096B: "५" DEVANAGARI DIGIT FIVE -->
+                    <Key
+                        latin:keySpec="&#x0924;"
+                        latin:additionalMoreKeys="&#x096B;" />
+                    <!-- U+0925: "थ" DEVANAGARI LETTER THA
+                         U+096C: "६" DEVANAGARI DIGIT SIX -->
+                    <Key
+                        latin:keySpec="&#x0925;"
+                        latin:additionalMoreKeys="&#x096C;" />
+                    <!-- U+0917: "ग" DEVANAGARI LETTER G
+                         U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+                    <Key
+                        latin:keySpec="&#x0917;"
+                        latin:additionalMoreKeys="&#x096D;" />
+                    <!-- U+0937: "ष" DEVANAGARI LETTER SSA
+                         U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+                    <Key
+                        latin:keySpec="&#x0937;"
+                        latin:additionalMoreKeys="&#x096E;" />
+                    <!-- U+092F: "य" DEVANAGARI LETTER YA
+                         U+096F: "९" DEVANAGARI DIGIT NINE -->
+                    <Key
+                        latin:keySpec="&#x092F;"
+                        latin:additionalMoreKeys="&#x096F;" />
+                    <!-- U+0909: "उ" DEVANAGARI LETTER U
+                         U+0966: "०" DEVANAGARI DIGIT ZERO -->
+                    <Key
+                        latin:keySpec="&#x0909;"
+                        latin:additionalMoreKeys="&#x0966;" />
+                </case>
+                <default>
+                    <!-- U+091F: "ट" DEVANAGARI LETTER TTA
+                         U+0967: "१" DEVANAGARI DIGIT ONE -->
+                    <Key
+                        latin:keySpec="&#x091F;"
+                        latin:keyHintLabel="1"
+                        latin:additionalMoreKeys="&#x0967;,1" />
+                    <!-- U+0927: "ध" DEVANAGARI LETTER DHA
+                         U+0968: "२" DEVANAGARI DIGIT TWO -->
+                    <Key
+                        latin:keySpec="&#x0927;"
+                        latin:keyHintLabel="2"
+                        latin:additionalMoreKeys="&#x0968;,2" />
+                    <!-- U+092D: "भ" DEVANAGARI LETTER BHA
+                         U+0969: "३" DEVANAGARI DIGIT THREE -->
+                    <Key
+                        latin:keySpec="&#x092D;"
+                        latin:keyHintLabel="3"
+                        latin:additionalMoreKeys="&#x0969;,3" />
+                    <!-- U+091A: "च" DEVANAGARI LETTER CA
+                         U+096A: "४" DEVANAGARI DIGIT FOUR -->
+                    <Key
+                        latin:keySpec="&#x091A;"
+                        latin:keyHintLabel="4"
+                        latin:additionalMoreKeys="&#x096A;,4" />
+                    <!-- U+0924: "त" DEVANAGARI LETTER TA
+                         U+096B: "५" DEVANAGARI DIGIT FIVE -->
+                    <Key
+                        latin:keySpec="&#x0924;"
+                        latin:keyHintLabel="5"
+                        latin:additionalMoreKeys="&#x096B;,5" />
+                    <!-- U+0925: "थ" DEVANAGARI LETTER THA
+                         U+096C: "६" DEVANAGARI DIGIT SIX -->
+                    <Key
+                        latin:keySpec="&#x0925;"
+                        latin:keyHintLabel="6"
+                        latin:additionalMoreKeys="&#x096C;,6" />
+                    <!-- U+0917: "ग" DEVANAGARI LETTER G
+                         U+096D: "७" DEVANAGARI DIGIT SEVEN -->
+                    <Key
+                        latin:keySpec="&#x0917;"
+                        latin:keyHintLabel="7"
+                        latin:additionalMoreKeys="&#x096D;,7" />
+                    <!-- U+0937: "ष" DEVANAGARI LETTER SSA
+                         U+096E: "८" DEVANAGARI DIGIT EIGHT -->
+                    <Key
+                        latin:keySpec="&#x0937;"
+                        latin:keyHintLabel="8"
+                        latin:additionalMoreKeys="&#x096E;,8" />
+                    <!-- U+092F: "य" DEVANAGARI LETTER YA
+                         U+096F: "९" DEVANAGARI DIGIT NINE -->
+                    <Key
+                        latin:keySpec="&#x092F;"
+                        latin:keyHintLabel="9"
+                        latin:additionalMoreKeys="&#x096F;,9" />
+                    <!-- U+0909: "उ" DEVANAGARI LETTER U
+                         U+0966: "०" DEVANAGARI DIGIT ZERO -->
+                    <Key
+                        latin:keySpec="&#x0909;"
+                        latin:keyHintLabel="0"
+                        latin:additionalMoreKeys="&#x0966;,0" />
+                </default>
+            </switch>
             <!-- U+0907: "इ" DEVANAGARI LETTER I
                  U+0914: "औ" DEVANAGARI LETTER AU -->
             <Key
diff --git a/java/res/xml/rowkeys_qwertz1.xml b/java/res/xml/rowkeys_qwertz1.xml
index c4edae339..b662a887c 100644
--- a/java/res/xml/rowkeys_qwertz1.xml
+++ b/java/res/xml/rowkeys_qwertz1.xml
@@ -21,52 +21,86 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <Key
-        latin:keySpec="q"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <Key
-        latin:keySpec="w"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2"
-        latin:moreKeys="!text/morekeys_w" />
-    <Key
-        latin:keySpec="e"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3"
-        latin:moreKeys="!text/morekeys_e" />
-    <Key
-        latin:keySpec="r"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4"
-        latin:moreKeys="!text/morekeys_r" />
-    <Key
-        latin:keySpec="t"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5"
-        latin:moreKeys="!text/morekeys_t" />
-    <Key
-        latin:keySpec="z"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6"
-        latin:moreKeys="!text/morekeys_z" />
-     <Key
-        latin:keySpec="u"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7"
-        latin:moreKeys="!text/morekeys_u" />
-    <Key
-        latin:keySpec="i"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8"
-        latin:moreKeys="!text/morekeys_i" />
-    <Key
-        latin:keySpec="o"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9"
-        latin:moreKeys="!text/morekeys_o" />
-    <Key
-        latin:keySpec="p"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <Key
+                latin:keySpec="q" />
+            <Key
+                latin:keySpec="w"
+                latin:moreKeys="!text/morekeys_w" />
+            <Key
+                latin:keySpec="e"
+                latin:moreKeys="!text/morekeys_e" />
+            <Key
+                latin:keySpec="r"
+                latin:moreKeys="!text/morekeys_r" />
+            <Key
+                latin:keySpec="t"
+                latin:moreKeys="!text/morekeys_t" />
+            <Key
+                latin:keySpec="z"
+                latin:moreKeys="!text/morekeys_z" />
+            <Key
+                latin:keySpec="u"
+                latin:moreKeys="!text/morekeys_u" />
+            <Key
+                latin:keySpec="i"
+                latin:moreKeys="!text/morekeys_i" />
+            <Key
+                latin:keySpec="o"
+                latin:moreKeys="!text/morekeys_o" />
+            <Key
+                latin:keySpec="p" />
+        </case>
+        <default>
+            <Key
+                latin:keySpec="q"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <Key
+                latin:keySpec="w"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2"
+                latin:moreKeys="!text/morekeys_w" />
+            <Key
+                latin:keySpec="e"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3"
+                latin:moreKeys="!text/morekeys_e" />
+            <Key
+                latin:keySpec="r"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4"
+                latin:moreKeys="!text/morekeys_r" />
+            <Key
+                latin:keySpec="t"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5"
+                latin:moreKeys="!text/morekeys_t" />
+            <Key
+                latin:keySpec="z"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6"
+                latin:moreKeys="!text/morekeys_z" />
+            <Key
+                latin:keySpec="u"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7"
+                latin:moreKeys="!text/morekeys_u" />
+            <Key
+                latin:keySpec="i"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8"
+                latin:moreKeys="!text/morekeys_i" />
+            <Key
+                latin:keySpec="o"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9"
+                latin:moreKeys="!text/morekeys_o" />
+            <Key
+                latin:keySpec="p"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
 </merge>
diff --git a/java/res/xml/rowkeys_south_slavic1.xml b/java/res/xml/rowkeys_south_slavic1.xml
index 064f164e8..66f60ab82 100644
--- a/java/res/xml/rowkeys_south_slavic1.xml
+++ b/java/res/xml/rowkeys_south_slavic1.xml
@@ -21,57 +21,94 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <!-- U+0459: "љ" CYRILLIC SMALL LETTER LJE -->
-    <Key
-        latin:keySpec="&#x0459;"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+045A: "њ" CYRILLIC SMALL LETTER NJE -->
-    <Key
-        latin:keySpec="&#x045A;"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
-    <Key
-        latin:keySpec="&#x0435;"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3"
-        latin:moreKeys="!text/morekeys_cyrillic_ie" />
-    <!-- U+0440: "р" CYRILLIC SMALL LETTER ER -->
-    <Key
-        latin:keySpec="&#x0440;"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+0442: "т" CYRILLIC SMALL LETTER TE -->
-    <Key
-        latin:keySpec="&#x0442;"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <Key
-        latin:keySpec="!text/keyspec_south_slavic_row1_6"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
-    <Key
-        latin:keySpec="&#x0443;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+0438: "и" CYRILLIC SMALL LETTER I -->
-    <Key
-        latin:keySpec="&#x0438;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8"
-        latin:moreKeys="!text/morekeys_cyrillic_i" />
-    <!-- U+043E: "о" CYRILLIC SMALL LETTER O -->
-    <Key
-        latin:keySpec="&#x043E;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+043F: "п" CYRILLIC SMALL LETTER PE -->
-    <Key
-        latin:keySpec="&#x043F;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0459: "љ" CYRILLIC SMALL LETTER LJE -->
+            <Key
+                latin:keySpec="&#x0459;" />
+            <!-- U+045A: "њ" CYRILLIC SMALL LETTER NJE -->
+            <Key
+                latin:keySpec="&#x045A;" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;"
+                latin:moreKeys="!text/morekeys_cyrillic_ie" />
+            <!-- U+0440: "р" CYRILLIC SMALL LETTER ER -->
+            <Key
+                latin:keySpec="&#x0440;" />
+            <!-- U+0442: "т" CYRILLIC SMALL LETTER TE -->
+            <Key
+                latin:keySpec="&#x0442;" />
+            <Key
+                latin:keySpec="!text/keyspec_south_slavic_row1_6" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;" />
+            <!-- U+0438: "и" CYRILLIC SMALL LETTER I -->
+            <Key
+                latin:keySpec="&#x0438;"
+                latin:moreKeys="!text/morekeys_cyrillic_i" />
+            <!-- U+043E: "о" CYRILLIC SMALL LETTER O -->
+            <Key
+                latin:keySpec="&#x043E;" />
+            <!-- U+043F: "п" CYRILLIC SMALL LETTER PE -->
+            <Key
+                latin:keySpec="&#x043F;" />
+        </case>
+        <default>
+            <!-- U+0459: "љ" CYRILLIC SMALL LETTER LJE -->
+            <Key
+                latin:keySpec="&#x0459;"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+045A: "њ" CYRILLIC SMALL LETTER NJE -->
+            <Key
+                latin:keySpec="&#x045A;"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0435: "е" CYRILLIC SMALL LETTER IE -->
+            <Key
+                latin:keySpec="&#x0435;"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3"
+                latin:moreKeys="!text/morekeys_cyrillic_ie" />
+            <!-- U+0440: "р" CYRILLIC SMALL LETTER ER -->
+            <Key
+                latin:keySpec="&#x0440;"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+0442: "т" CYRILLIC SMALL LETTER TE -->
+            <Key
+                latin:keySpec="&#x0442;"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <Key
+                latin:keySpec="!text/keyspec_south_slavic_row1_6"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+0443: "у" CYRILLIC SMALL LETTER U -->
+            <Key
+                latin:keySpec="&#x0443;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+0438: "и" CYRILLIC SMALL LETTER I -->
+            <Key
+                latin:keySpec="&#x0438;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8"
+                latin:moreKeys="!text/morekeys_cyrillic_i" />
+            <!-- U+043E: "о" CYRILLIC SMALL LETTER O -->
+            <Key
+                latin:keySpec="&#x043E;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+043F: "п" CYRILLIC SMALL LETTER PE -->
+            <Key
+                latin:keySpec="&#x043F;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0448: "ш" CYRILLIC SMALL LETTER SHA -->
     <Key
         latin:keySpec="&#x0448;" />
diff --git a/java/res/xml/rowkeys_tamil1.xml b/java/res/xml/rowkeys_tamil1.xml
index d6a5cfaf9..4d2a46257 100644
--- a/java/res/xml/rowkeys_tamil1.xml
+++ b/java/res/xml/rowkeys_tamil1.xml
@@ -19,66 +19,112 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <!-- U+0B94: "ஔ" TAMIL LETTER AU
-         U+0BCC: "ௌ" TAMIL VOWEL SIGN AU -->
-    <Key
-        latin:keySpec="&#x0B94;"
-        latin:moreKeys="&#x0BCC;,%"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0B90: "ஐ" TAMIL LETTER AI
-         U+0BC8: "ை" TAMIL VOWEL SIGN AI -->
-    <Key
-        latin:keySpec="&#x0B90;"
-        latin:moreKeys="&#x0BC8;,%"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0B86: "ஆ" TAMIL LETTER AA
-         U+0BBE: "ா" TAMIL VOWEL SIGN AA -->
-    <Key
-        latin:keySpec="&#x0B86;"
-        latin:moreKeys="&#x0BBE;,%"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3" />
-    <!-- U+0B88: "ஈ" TAMIL LETTER II
-         U+0BC0: "ீ" TAMIL VOWEL SIGN II -->
-    <Key
-        latin:keySpec="&#x0B88;"
-        latin:moreKeys="&#x0BC0;,%"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+0B8A: "ஊ" TAMIL LETTER UU
-         U+0BC2: "ூ" TAMIL VOWEL SIGN UU -->
-    <Key
-        latin:keySpec="&#x0B8A;"
-        latin:moreKeys="&#x0BC2;,%"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+0BAE: "ம" TAMIL LETTER MA -->
-    <Key
-        latin:keySpec="&#x0BAE;"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+0BA9: "ன" TAMIL LETTER NNNA -->
-    <Key
-        latin:keySpec="&#x0BA9;"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+0BA8: "ந" TAMIL LETTER NA -->
-    <Key
-        latin:keySpec="&#x0BA8;"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8" />
-    <!-- U+0B99: "ங" TAMIL LETTER NGA -->
-    <Key
-        latin:keySpec="&#x0B99;"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+0BA3: "ண" TAMIL LETTER NNA -->
-    <Key
-        latin:keySpec="&#x0BA3;"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0B94: "ஔ" TAMIL LETTER AU
+                 U+0BCC: "ௌ" TAMIL VOWEL SIGN AU -->
+            <Key
+                latin:keySpec="&#x0B94;"
+                latin:moreKeys="&#x0BCC;,%" />
+            <!-- U+0B90: "ஐ" TAMIL LETTER AI
+                 U+0BC8: "ை" TAMIL VOWEL SIGN AI -->
+            <Key
+                latin:keySpec="&#x0B90;"
+                latin:moreKeys="&#x0BC8;,%" />
+            <!-- U+0B86: "ஆ" TAMIL LETTER AA
+                 U+0BBE: "ா" TAMIL VOWEL SIGN AA -->
+            <Key
+                latin:keySpec="&#x0B86;"
+                latin:moreKeys="&#x0BBE;,%" />
+            <!-- U+0B88: "ஈ" TAMIL LETTER II
+                 U+0BC0: "ீ" TAMIL VOWEL SIGN II -->
+            <Key
+                latin:keySpec="&#x0B88;"
+                latin:moreKeys="&#x0BC0;,%" />
+            <!-- U+0B8A: "ஊ" TAMIL LETTER UU
+                 U+0BC2: "ூ" TAMIL VOWEL SIGN UU -->
+            <Key
+                latin:keySpec="&#x0B8A;"
+                latin:moreKeys="&#x0BC2;,%" />
+            <!-- U+0BAE: "ம" TAMIL LETTER MA -->
+            <Key
+                latin:keySpec="&#x0BAE;" />
+            <!-- U+0BA9: "ன" TAMIL LETTER NNNA -->
+            <Key
+                latin:keySpec="&#x0BA9;" />
+            <!-- U+0BA8: "ந" TAMIL LETTER NA -->
+            <Key
+                latin:keySpec="&#x0BA8;" />
+            <!-- U+0B99: "ங" TAMIL LETTER NGA -->
+            <Key
+                latin:keySpec="&#x0B99;" />
+            <!-- U+0BA3: "ண" TAMIL LETTER NNA -->
+            <Key
+                latin:keySpec="&#x0BA3;" />
+        </case>
+        <default>
+            <!-- U+0B94: "ஔ" TAMIL LETTER AU
+                 U+0BCC: "ௌ" TAMIL VOWEL SIGN AU -->
+            <Key
+                latin:keySpec="&#x0B94;"
+                latin:moreKeys="&#x0BCC;,%"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0B90: "ஐ" TAMIL LETTER AI
+                 U+0BC8: "ை" TAMIL VOWEL SIGN AI -->
+            <Key
+                latin:keySpec="&#x0B90;"
+                latin:moreKeys="&#x0BC8;,%"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0B86: "ஆ" TAMIL LETTER AA
+                 U+0BBE: "ா" TAMIL VOWEL SIGN AA -->
+            <Key
+                latin:keySpec="&#x0B86;"
+                latin:moreKeys="&#x0BBE;,%"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3" />
+            <!-- U+0B88: "ஈ" TAMIL LETTER II
+                 U+0BC0: "ீ" TAMIL VOWEL SIGN II -->
+            <Key
+                latin:keySpec="&#x0B88;"
+                latin:moreKeys="&#x0BC0;,%"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+0B8A: "ஊ" TAMIL LETTER UU
+                 U+0BC2: "ூ" TAMIL VOWEL SIGN UU -->
+            <Key
+                latin:keySpec="&#x0B8A;"
+                latin:moreKeys="&#x0BC2;,%"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+0BAE: "ம" TAMIL LETTER MA -->
+            <Key
+                latin:keySpec="&#x0BAE;"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+0BA9: "ன" TAMIL LETTER NNNA -->
+            <Key
+                latin:keySpec="&#x0BA9;"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+0BA8: "ந" TAMIL LETTER NA -->
+            <Key
+                latin:keySpec="&#x0BA8;"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8" />
+            <!-- U+0B99: "ங" TAMIL LETTER NGA -->
+            <Key
+                latin:keySpec="&#x0B99;"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+0BA3: "ண" TAMIL LETTER NNA -->
+            <Key
+                latin:keySpec="&#x0BA3;"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0B9E: "ஞ" TAMIL LETTER NYA -->
     <Key latin:keySpec="&#x0B9E;" />
 </merge>
diff --git a/java/res/xml/rowkeys_telugu1.xml b/java/res/xml/rowkeys_telugu1.xml
index 8a5c8506f..4d33b2c92 100644
--- a/java/res/xml/rowkeys_telugu1.xml
+++ b/java/res/xml/rowkeys_telugu1.xml
@@ -19,76 +19,132 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <!-- U+0C4C: "ౌ" TELUGU VOWEL SIGN AU
-         U+0C14: "ఔ" TELUGU LETTER AU -->
-    <Key
-        latin:keySpec="&#x0C4C;"
-        latin:moreKeys="&#x0C14;,%"
-        latin:keyHintLabel="1"
-        latin:additionalMoreKeys="1" />
-    <!-- U+0C48: "ై" TELUGU VOWEL SIGN AI
-         U+0C10: "ఐ" TELUGU LETTER AI -->
-    <Key
-        latin:keySpec="&#x0C48;"
-        latin:moreKeys="&#x0C10;,%"
-        latin:keyHintLabel="2"
-        latin:additionalMoreKeys="2" />
-    <!-- U+0C3E: "ా" TELUGU VOWEL SIGN AA
-         U+0C06: "ఆ" TELUGU LETTER AA -->
-    <Key
-        latin:keySpec="&#x0C3E;"
-        latin:moreKeys="&#x0C06;,%"
-        latin:keyHintLabel="3"
-        latin:additionalMoreKeys="3" />
-    <!-- U+0C40: "ీ" TELUGU VOWEL SIGN II
-         U+0C08: "ఈ" TELUGU LETTER II -->
-    <Key
-        latin:keySpec="&#x0C40;"
-        latin:moreKeys="&#x0C08;,%"
-        latin:keyHintLabel="4"
-        latin:additionalMoreKeys="4" />
-    <!-- U+0C42: "ూ" TELUGU VOWEL SIGN UU
-         U+0C0A: "ఊ" TELUGU LETTER UU -->
-    <Key
-        latin:keySpec="&#x0C42;"
-        latin:moreKeys="&#x0C0A;,%"
-        latin:keyHintLabel="5"
-        latin:additionalMoreKeys="5" />
-    <!-- U+0C2C: "బ" TELUGU LETTER BA
-         U+0C2D: "భ" TELUGU LETTER BHA -->
-    <Key
-        latin:keySpec="&#x0C2C;"
-        latin:moreKeys="&#x0C2D;,%"
-        latin:keyHintLabel="6"
-        latin:additionalMoreKeys="6" />
-    <!-- U+0C39: "హ" TELUGU LETTER HA
-         U+0C03: "ః" TELUGU SIGN VISARGA -->
-    <Key
-        latin:keySpec="&#x0C39;"
-        latin:moreKeys="&#x0C03;,%"
-        latin:keyHintLabel="7"
-        latin:additionalMoreKeys="7" />
-    <!-- U+0C17: "గ" TELUGU LETTER GA
-         U+0C18: "ఘ" TELUGU LETTER GHA -->
-    <Key
-        latin:keySpec="&#x0C17;"
-        latin:moreKeys="&#x0C18;,%"
-        latin:keyHintLabel="8"
-        latin:additionalMoreKeys="8" />
-    <!-- U+0C26: "ద" TELUGU LETTER DA
-         U+0C27: "ధ" TELUGU LETTER DHA -->
-    <Key
-        latin:keySpec="&#x0C26;"
-        latin:moreKeys="&#x0C27;,%"
-        latin:keyHintLabel="9"
-        latin:additionalMoreKeys="9" />
-    <!-- U+0C1C: "జ" TELUGU LETTER JA
-         U+0C1D: "ఝ" TELUGU LETTER JHA -->
-    <Key
-        latin:keySpec="&#x0C1C;"
-        latin:moreKeys="&#x0C1D;,%"
-        latin:keyHintLabel="0"
-        latin:additionalMoreKeys="0" />
+    <switch>
+        <case latin:showNumberRow="true">
+            <!-- U+0C4C: "ౌ" TELUGU VOWEL SIGN AU
+                 U+0C14: "ఔ" TELUGU LETTER AU -->
+            <Key
+                latin:keySpec="&#x0C4C;"
+                latin:moreKeys="&#x0C14;,%" />
+            <!-- U+0C48: "ై" TELUGU VOWEL SIGN AI
+                 U+0C10: "ఐ" TELUGU LETTER AI -->
+            <Key
+                latin:keySpec="&#x0C48;"
+                latin:moreKeys="&#x0C10;,%" />
+            <!-- U+0C3E: "ా" TELUGU VOWEL SIGN AA
+                 U+0C06: "ఆ" TELUGU LETTER AA -->
+            <Key
+                latin:keySpec="&#x0C3E;"
+                latin:moreKeys="&#x0C06;,%" />
+            <!-- U+0C40: "ీ" TELUGU VOWEL SIGN II
+                 U+0C08: "ఈ" TELUGU LETTER II -->
+            <Key
+                latin:keySpec="&#x0C40;"
+                latin:moreKeys="&#x0C08;,%" />
+            <!-- U+0C42: "ూ" TELUGU VOWEL SIGN UU
+                 U+0C0A: "ఊ" TELUGU LETTER UU -->
+            <Key
+                latin:keySpec="&#x0C42;"
+                latin:moreKeys="&#x0C0A;,%" />
+            <!-- U+0C2C: "బ" TELUGU LETTER BA
+                 U+0C2D: "భ" TELUGU LETTER BHA -->
+            <Key
+                latin:keySpec="&#x0C2C;"
+                latin:moreKeys="&#x0C2D;,%" />
+            <!-- U+0C39: "హ" TELUGU LETTER HA
+                 U+0C03: "ః" TELUGU SIGN VISARGA -->
+            <Key
+                latin:keySpec="&#x0C39;"
+                latin:moreKeys="&#x0C03;,%" />
+            <!-- U+0C17: "గ" TELUGU LETTER GA
+                 U+0C18: "ఘ" TELUGU LETTER GHA -->
+            <Key
+                latin:keySpec="&#x0C17;"
+                latin:moreKeys="&#x0C18;,%" />
+            <!-- U+0C26: "ద" TELUGU LETTER DA
+                 U+0C27: "ధ" TELUGU LETTER DHA -->
+            <Key
+                latin:keySpec="&#x0C26;"
+                latin:moreKeys="&#x0C27;,%" />
+            <!-- U+0C1C: "జ" TELUGU LETTER JA
+                 U+0C1D: "ఝ" TELUGU LETTER JHA -->
+            <Key
+                latin:keySpec="&#x0C1C;"
+                latin:moreKeys="&#x0C1D;,%" />
+        </case>
+        <default>
+            <!-- U+0C4C: "ౌ" TELUGU VOWEL SIGN AU
+                 U+0C14: "ఔ" TELUGU LETTER AU -->
+            <Key
+                latin:keySpec="&#x0C4C;"
+                latin:moreKeys="&#x0C14;,%"
+                latin:keyHintLabel="1"
+                latin:additionalMoreKeys="1" />
+            <!-- U+0C48: "ై" TELUGU VOWEL SIGN AI
+                 U+0C10: "ఐ" TELUGU LETTER AI -->
+            <Key
+                latin:keySpec="&#x0C48;"
+                latin:moreKeys="&#x0C10;,%"
+                latin:keyHintLabel="2"
+                latin:additionalMoreKeys="2" />
+            <!-- U+0C3E: "ా" TELUGU VOWEL SIGN AA
+                 U+0C06: "ఆ" TELUGU LETTER AA -->
+            <Key
+                latin:keySpec="&#x0C3E;"
+                latin:moreKeys="&#x0C06;,%"
+                latin:keyHintLabel="3"
+                latin:additionalMoreKeys="3" />
+            <!-- U+0C40: "ీ" TELUGU VOWEL SIGN II
+                 U+0C08: "ఈ" TELUGU LETTER II -->
+            <Key
+                latin:keySpec="&#x0C40;"
+                latin:moreKeys="&#x0C08;,%"
+                latin:keyHintLabel="4"
+                latin:additionalMoreKeys="4" />
+            <!-- U+0C42: "ూ" TELUGU VOWEL SIGN UU
+                 U+0C0A: "ఊ" TELUGU LETTER UU -->
+            <Key
+                latin:keySpec="&#x0C42;"
+                latin:moreKeys="&#x0C0A;,%"
+                latin:keyHintLabel="5"
+                latin:additionalMoreKeys="5" />
+            <!-- U+0C2C: "బ" TELUGU LETTER BA
+                 U+0C2D: "భ" TELUGU LETTER BHA -->
+            <Key
+                latin:keySpec="&#x0C2C;"
+                latin:moreKeys="&#x0C2D;,%"
+                latin:keyHintLabel="6"
+                latin:additionalMoreKeys="6" />
+            <!-- U+0C39: "హ" TELUGU LETTER HA
+                 U+0C03: "ః" TELUGU SIGN VISARGA -->
+            <Key
+                latin:keySpec="&#x0C39;"
+                latin:moreKeys="&#x0C03;,%"
+                latin:keyHintLabel="7"
+                latin:additionalMoreKeys="7" />
+            <!-- U+0C17: "గ" TELUGU LETTER GA
+                 U+0C18: "ఘ" TELUGU LETTER GHA -->
+            <Key
+                latin:keySpec="&#x0C17;"
+                latin:moreKeys="&#x0C18;,%"
+                latin:keyHintLabel="8"
+                latin:additionalMoreKeys="8" />
+            <!-- U+0C26: "ద" TELUGU LETTER DA
+                 U+0C27: "ధ" TELUGU LETTER DHA -->
+            <Key
+                latin:keySpec="&#x0C26;"
+                latin:moreKeys="&#x0C27;,%"
+                latin:keyHintLabel="9"
+                latin:additionalMoreKeys="9" />
+            <!-- U+0C1C: "జ" TELUGU LETTER JA
+                 U+0C1D: "ఝ" TELUGU LETTER JHA -->
+            <Key
+                latin:keySpec="&#x0C1C;"
+                latin:moreKeys="&#x0C1D;,%"
+                latin:keyHintLabel="0"
+                latin:additionalMoreKeys="0" />
+        </default>
+    </switch>
     <!-- U+0C21: "డ" TELUGU LETTER DDA
          U+0C22: "ఢ" TELUGU LETTER DDHA -->
     <Key
diff --git a/java/res/xml/rows_arabic.xml b/java/res/xml/rows_arabic.xml
index 3f765f347..7ee5db40d 100644
--- a/java/res/xml/rows_arabic.xml
+++ b/java/res/xml/rows_arabic.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml/rows_azerty.xml b/java/res/xml/rows_azerty.xml
index a52504c4f..434ea94ae 100644
--- a/java/res/xml/rows_azerty.xml
+++ b/java/res/xml/rows_azerty.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="10%p"
     >
diff --git a/java/res/xml/rows_bulgarian.xml b/java/res/xml/rows_bulgarian.xml
index 883c2833d..6c99df463 100644
--- a/java/res/xml/rows_bulgarian.xml
+++ b/java/res/xml/rows_bulgarian.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
     >
diff --git a/java/res/xml/rows_bulgarian_bds.xml b/java/res/xml/rows_bulgarian_bds.xml
index b4f3f1207..88372a86d 100644
--- a/java/res/xml/rows_bulgarian_bds.xml
+++ b/java/res/xml/rows_bulgarian_bds.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
     >
diff --git a/java/res/xml/rows_colemak.xml b/java/res/xml/rows_colemak.xml
index ec553c244..2a5db3f01 100644
--- a/java/res/xml/rows_colemak.xml
+++ b/java/res/xml/rows_colemak.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="10%p"
     >
diff --git a/java/res/xml/rows_east_slavic.xml b/java/res/xml/rows_east_slavic.xml
index 5d3d768f3..d465f37f3 100644
--- a/java/res/xml/rows_east_slavic.xml
+++ b/java/res/xml/rows_east_slavic.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
     >
diff --git a/java/res/xml/rows_georgian.xml b/java/res/xml/rows_georgian.xml
index 8c81dd007..004b18909 100644
--- a/java/res/xml/rows_georgian.xml
+++ b/java/res/xml/rows_georgian.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="10%p"
     >
diff --git a/java/res/xml/rows_greek.xml b/java/res/xml/rows_greek.xml
index e00b927a0..e437f1610 100644
--- a/java/res/xml/rows_greek.xml
+++ b/java/res/xml/rows_greek.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="10%p"
     >
diff --git a/java/res/xml/rows_hebrew.xml b/java/res/xml/rows_hebrew.xml
index f12380a7d..db0022fef 100644
--- a/java/res/xml/rows_hebrew.xml
+++ b/java/res/xml/rows_hebrew.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="10%p"
     >
diff --git a/java/res/xml/rows_hindi.xml b/java/res/xml/rows_hindi.xml
index da869b144..74154c378 100644
--- a/java/res/xml/rows_hindi.xml
+++ b/java/res/xml/rows_hindi.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml/rows_hindi_compact.xml b/java/res/xml/rows_hindi_compact.xml
index d21fada1c..13ee145fe 100644
--- a/java/res/xml/rows_hindi_compact.xml
+++ b/java/res/xml/rows_hindi_compact.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml/rows_kannada.xml b/java/res/xml/rows_kannada.xml
index 5dc6271f0..9d2be2e86 100644
--- a/java/res/xml/rows_kannada.xml
+++ b/java/res/xml/rows_kannada.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal|autoXScale"
@@ -42,4 +41,4 @@
             latin:keyWidth="fillRight" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
diff --git a/java/res/xml/rows_malayalam.xml b/java/res/xml/rows_malayalam.xml
index 5e7a4916c..8b071cc13 100644
--- a/java/res/xml/rows_malayalam.xml
+++ b/java/res/xml/rows_malayalam.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal|autoXScale"
@@ -42,4 +41,4 @@
             latin:keyWidth="fillRight" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
diff --git a/java/res/xml/rows_marathi.xml b/java/res/xml/rows_marathi.xml
index ff11adb75..8ed1eebd2 100644
--- a/java/res/xml/rows_marathi.xml
+++ b/java/res/xml/rows_marathi.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal"
@@ -42,4 +41,4 @@
             latin:keyWidth="fillRight" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
diff --git a/java/res/xml/rows_mongolian.xml b/java/res/xml/rows_mongolian.xml
index a6a890a9b..2325bfb4d 100644
--- a/java/res/xml/rows_mongolian.xml
+++ b/java/res/xml/rows_mongolian.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
     >
diff --git a/java/res/xml/rows_nepali_romanized.xml b/java/res/xml/rows_nepali_romanized.xml
index 26737ec8a..8eb9ab032 100644
--- a/java/res/xml/rows_nepali_romanized.xml
+++ b/java/res/xml/rows_nepali_romanized.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal"
diff --git a/java/res/xml/rows_nepali_traditional.xml b/java/res/xml/rows_nepali_traditional.xml
index e2e710ce8..8ec0fb84c 100644
--- a/java/res/xml/rows_nepali_traditional.xml
+++ b/java/res/xml/rows_nepali_traditional.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <include latin:keyboardLayout="@xml/key_styles_currency" />
     <Row
         latin:keyWidth="9.091%p"
diff --git a/java/res/xml/rows_nordic.xml b/java/res/xml/rows_nordic.xml
index 3068917f5..6cc3e3d35 100644
--- a/java/res/xml/rows_nordic.xml
+++ b/java/res/xml/rows_nordic.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
     >
diff --git a/java/res/xml/rows_qwertz.xml b/java/res/xml/rows_qwertz.xml
index e4ba99fbe..025197081 100644
--- a/java/res/xml/rows_qwertz.xml
+++ b/java/res/xml/rows_qwertz.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="10%p"
     >
diff --git a/java/res/xml/rows_serbian_qwertz.xml b/java/res/xml/rows_serbian_qwertz.xml
index 4be2abf1a..40e678b6d 100644
--- a/java/res/xml/rows_serbian_qwertz.xml
+++ b/java/res/xml/rows_serbian_qwertz.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin" >
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row latin:keyWidth="9.091%p" >
         <include latin:keyboardLayout="@xml/rowkeys_serbian_qwertz1" />
     </Row>
@@ -36,4 +35,4 @@
             latin:keyWidth="fillRight" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
diff --git a/java/res/xml/rows_south_slavic.xml b/java/res/xml/rows_south_slavic.xml
index 05442848d..c86089c70 100644
--- a/java/res/xml/rows_south_slavic.xml
+++ b/java/res/xml/rows_south_slavic.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
     >
diff --git a/java/res/xml/rows_spanish.xml b/java/res/xml/rows_spanish.xml
index ecda4a4a6..c6d945370 100644
--- a/java/res/xml/rows_spanish.xml
+++ b/java/res/xml/rows_spanish.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="10%p"
     >
diff --git a/java/res/xml/rows_swiss.xml b/java/res/xml/rows_swiss.xml
index 03e412940..2b207db45 100644
--- a/java/res/xml/rows_swiss.xml
+++ b/java/res/xml/rows_swiss.xml
@@ -21,8 +21,6 @@
 <merge
     xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin"
 >
-    <include
-        latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
     >
diff --git a/java/res/xml/rows_tamil.xml b/java/res/xml/rows_tamil.xml
index 3aa2c8dc4..27b5b9d9b 100644
--- a/java/res/xml/rows_tamil.xml
+++ b/java/res/xml/rows_tamil.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal|autoXScale"
@@ -42,4 +41,4 @@
             latin:keyWidth="fillRight" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
diff --git a/java/res/xml/rows_telugu.xml b/java/res/xml/rows_telugu.xml
index 4a31d5dc3..fa147b081 100644
--- a/java/res/xml/rows_telugu.xml
+++ b/java/res/xml/rows_telugu.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin">
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row
         latin:keyWidth="9.091%p"
         latin:keyLabelFlags="fontNormal|autoXScale"
@@ -42,4 +41,4 @@
             latin:keyWidth="fillRight" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
diff --git a/java/res/xml/rows_uzbek.xml b/java/res/xml/rows_uzbek.xml
index ae655d814..4b7d4f9f3 100644
--- a/java/res/xml/rows_uzbek.xml
+++ b/java/res/xml/rows_uzbek.xml
@@ -19,7 +19,6 @@
 -->
 
 <merge xmlns:latin="http://schemas.android.com/apk/res/com.android.inputmethod.latin" >
-    <include latin:keyboardLayout="@xml/key_styles_common" />
     <Row latin:keyWidth="9.091%p" >
         <include latin:keyboardLayout="@xml/rowkeys_uzbek1" />
     </Row>
@@ -40,4 +39,4 @@
             latin:visualInsetsLeft="1%p" />
     </Row>
     <include latin:keyboardLayout="@xml/row_qwerty4" />
-</merge>
\ No newline at end of file
+</merge>
